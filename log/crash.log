2021-04-06 15:08:36 =ERROR REPORT====
Failed to start Ranch listener 'Elixir.Websocket.Router.HTTP' in ranch_tcp:listen([{cacerts,'...'},{key,'...'},{cert,'...'},{port,4000}]) for reason eaddrinuse (address already in use)
2021-04-06 15:08:36 =SUPERVISOR REPORT====
     Supervisor: {<0.309.0>,ranch_listener_sup}
     Context:    start_error
     Reason:     {listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}
     Offender:   [{pid,undefined},{id,ranch_acceptors_sup},{mfargs,{ranch_acceptors_sup,start_link,['Elixir.Websocket.Router.HTTP',ranch_tcp]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2021-04-06 15:08:36 =CRASH REPORT====
  crasher:
    initial call: supervisor:ranch_acceptors_sup/1
    pid: <0.311.0>
    registered_name: []
    exception exit: {{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse},[{ranch_acceptors_sup,listen_error,5,[{file,"/home/arthur/code/websocket/deps/ranch/src/ranch_acceptors_sup.erl"},{line,66}]},{supervisor,init,1,[{file,"supervisor.erl"},{line,301}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,417}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,385}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.309.0>,'Elixir.Websocket.Supervisor',<0.307.0>]
    message_queue_len: 0
    messages: []
    links: [<0.309.0>]
    dictionary: [{logger,error_logger}]
    trap_exit: true
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 4702
  neighbours:
2021-04-06 15:08:36 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    start_error
     Reason:     {shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}}}
     Offender:   [{pid,undefined},{id,{ranch_listener_sup,'Elixir.Websocket.Router.HTTP'}},{mfargs,{ranch_listener_sup,start_link,['Elixir.Websocket.Router.HTTP',ranch_tcp,#{max_connections => 16384,num_acceptors => 100,socket_opts => [{port,4000}]},cowboy_clear,#{env => #{dispatch => [{'_',[],[{[<<"ws">>,'...'],[],'Elixir.Websocket.SocketHandler',[]},{'_',[],'Elixir.Plug.Cowboy.Handler',{'Elixir.Websocket.Router',[]}}]}]},stream_handlers => [cowboy_telemetry_h,cowboy_stream_h]}]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2021-04-06 15:08:36 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.306.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,{ranch_listener_sup,'Elixir.Websocket.Router.HTTP'},{shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}}}}},{'Elixir.Websocket.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.305.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.307.0>,normal}]
    links: [<0.305.0>,<0.44.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 376
    stack_size: 28
    reductions: 195
  neighbours:
2021-04-06 15:13:57 =CRASH REPORT====
  crasher:
    initial call: cowboy_clear:connection_process/4
    pid: <0.443.0>
    registered_name: []
    exception error: {{badkey,channel,#{registry_key => <<"/ws/chat">>}},[{'Elixir.Websocket.SocketHandler',websocket_init,1,[{file,"lib/websocket/socket_handler.ex"},{line,24}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,527}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [#Port<0.7>,<0.336.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 987
    stack_size: 28
    reductions: 2622
  neighbours:
2021-04-06 15:13:57 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP' had connection process started with cowboy_clear:start_link/4 at <0.443.0> exit with reason: {{badkey,channel,#{registry_key => <<"/ws/chat">>}},[{'Elixir.Websocket.SocketHandler',websocket_init,1,[{file,"lib/websocket/socket_handler.ex"},{line,24}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,527}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-06 15:14:26 =CRASH REPORT====
  crasher:
    initial call: cowboy_clear:connection_process/4
    pid: <0.443.0>
    registered_name: []
    exception error: {{badkey,channel,#{registry_key => <<"/ws/chat">>}},[{'Elixir.Websocket.SocketHandler',websocket_init,1,[{file,"lib/websocket/socket_handler.ex"},{line,24}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,527}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [#Port<0.7>,<0.336.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 987
    stack_size: 28
    reductions: 2622
  neighbours:
2021-04-06 15:14:26 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP' had connection process started with cowboy_clear:start_link/4 at <0.443.0> exit with reason: {{badkey,channel,#{registry_key => <<"/ws/chat">>}},[{'Elixir.Websocket.SocketHandler',websocket_init,1,[{file,"lib/websocket/socket_handler.ex"},{line,24}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,527}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-06 15:14:50 =CRASH REPORT====
  crasher:
    initial call: cowboy_clear:connection_process/4
    pid: <0.443.0>
    registered_name: []
    exception error: {{badkey,channel,#{registry_key => <<"/ws/chat">>}},[{'Elixir.Websocket.SocketHandler',websocket_init,1,[{file,"lib/websocket/socket_handler.ex"},{line,24}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,527}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [#Port<0.7>,<0.336.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 987
    stack_size: 28
    reductions: 2622
  neighbours:
2021-04-06 15:14:50 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP' had connection process started with cowboy_clear:start_link/4 at <0.443.0> exit with reason: {{badkey,channel,#{registry_key => <<"/ws/chat">>}},[{'Elixir.Websocket.SocketHandler',websocket_init,1,[{file,"lib/websocket/socket_handler.ex"},{line,24}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,527}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-06 15:15:02 =CRASH REPORT====
  crasher:
    initial call: cowboy_clear:connection_process/4
    pid: <0.445.0>
    registered_name: []
    exception error: {{badkey,channel,#{registry_key => <<"/ws/chat">>}},[{'Elixir.Websocket.SocketHandler',websocket_init,1,[{file,"lib/websocket/socket_handler.ex"},{line,24}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,527}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [#Port<0.8>,<0.336.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 2434
  neighbours:
2021-04-06 15:15:02 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP' had connection process started with cowboy_clear:start_link/4 at <0.445.0> exit with reason: {{badkey,channel,#{registry_key => <<"/ws/chat">>}},[{'Elixir.Websocket.SocketHandler',websocket_init,1,[{file,"lib/websocket/socket_handler.ex"},{line,24}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,527}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-06 15:15:05 =CRASH REPORT====
  crasher:
    initial call: cowboy_clear:connection_process/4
    pid: <0.443.0>
    registered_name: []
    exception error: {{badkey,channel,#{registry_key => <<"/ws/chat">>}},[{'Elixir.Websocket.SocketHandler',websocket_handle,2,[{file,"lib/websocket/socket_handler.ex"},{line,56}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,528}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 1
    messages: [{tcp,#Port<0.7>,<<136,130,229,110,220,51,230,157>>}]
    links: [<0.440.0>,#Port<0.7>,<0.336.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 987
    stack_size: 28
    reductions: 3403
  neighbours:
2021-04-06 15:15:05 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP' had connection process started with cowboy_clear:start_link/4 at <0.443.0> exit with reason: {{badkey,channel,#{registry_key => <<"/ws/chat">>}},[{'Elixir.Websocket.SocketHandler',websocket_handle,2,[{file,"lib/websocket/socket_handler.ex"},{line,56}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,528}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-06 15:15:14 =CRASH REPORT====
  crasher:
    initial call: cowboy_clear:connection_process/4
    pid: <0.445.0>
    registered_name: []
    exception error: {{badkey,channel,#{registry_key => <<"/ws/chat">>}},[{'Elixir.Websocket.SocketHandler',websocket_handle,2,[{file,"lib/websocket/socket_handler.ex"},{line,56}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,528}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.440.0>,#Port<0.8>,<0.336.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 3118
  neighbours:
2021-04-06 15:15:14 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP' had connection process started with cowboy_clear:start_link/4 at <0.445.0> exit with reason: {{badkey,channel,#{registry_key => <<"/ws/chat">>}},[{'Elixir.Websocket.SocketHandler',websocket_handle,2,[{file,"lib/websocket/socket_handler.ex"},{line,56}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,528}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-06 15:15:53 =CRASH REPORT====
  crasher:
    initial call: cowboy_clear:connection_process/4
    pid: <0.443.0>
    registered_name: []
    exception error: {{badkey,channel,#{registry_key => <<"/ws/chat">>}},[{'Elixir.Websocket.SocketHandler',websocket_handle,2,[{file,"lib/websocket/socket_handler.ex"},{line,56}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,528}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.440.0>,#Port<0.7>,<0.336.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 987
    stack_size: 28
    reductions: 3395
  neighbours:
2021-04-06 15:15:53 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP' had connection process started with cowboy_clear:start_link/4 at <0.443.0> exit with reason: {{badkey,channel,#{registry_key => <<"/ws/chat">>}},[{'Elixir.Websocket.SocketHandler',websocket_handle,2,[{file,"lib/websocket/socket_handler.ex"},{line,56}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,528}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-06 15:16:31 =CRASH REPORT====
  crasher:
    initial call: cowboy_clear:connection_process/4
    pid: <0.443.0>
    registered_name: []
    exception error: {{badkey,channel,#{registry_key => <<"/ws/chat">>}},[{'Elixir.Websocket.SocketHandler',websocket_handle,2,[{file,"lib/websocket/socket_handler.ex"},{line,57}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,528}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.440.0>,#Port<0.7>,<0.336.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 987
    stack_size: 28
    reductions: 3754
  neighbours:
2021-04-06 15:16:31 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP' had connection process started with cowboy_clear:start_link/4 at <0.443.0> exit with reason: {{badkey,channel,#{registry_key => <<"/ws/chat">>}},[{'Elixir.Websocket.SocketHandler',websocket_handle,2,[{file,"lib/websocket/socket_handler.ex"},{line,57}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,528}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-06 15:16:51 =CRASH REPORT====
  crasher:
    initial call: cowboy_clear:connection_process/4
    pid: <0.443.0>
    registered_name: []
    exception error: {{badkey,channel,#{registry_key => <<"/ws/chat">>}},[{'Elixir.Websocket.SocketHandler',websocket_handle,2,[{file,"lib/websocket/socket_handler.ex"},{line,56}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,528}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.440.0>,#Port<0.7>,<0.336.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 987
    stack_size: 28
    reductions: 3750
  neighbours:
2021-04-06 15:16:51 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP' had connection process started with cowboy_clear:start_link/4 at <0.443.0> exit with reason: {{badkey,channel,#{registry_key => <<"/ws/chat">>}},[{'Elixir.Websocket.SocketHandler',websocket_handle,2,[{file,"lib/websocket/socket_handler.ex"},{line,56}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,528}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-06 15:20:36 =CRASH REPORT====
  crasher:
    initial call: cowboy_clear:connection_process/4
    pid: <0.443.0>
    registered_name: []
    exception exit: {{{shutdown,{server_initiated_close,404,<<"NOT_FOUND - no queue 'messages' in vhost '/'">>}},{gen_server,call,[<0.458.0>,{subscribe,{'basic.consume',0,<<"messages">>,<<>>,false,true,false,false,[]},<0.460.0>},60000]}},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Basic',consume,4,[{file,"lib/amqp/basic.ex"},{line,375}]},{'Elixir.Websocket.SocketHandler',websocket_init,1,[{file,"lib/websocket/socket_handler.ex"},{line,22}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,527}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [#Port<0.7>,<0.336.0>]
    dictionary: [{gen_server_call_timeout,60000}]
    trap_exit: true
    status: running
    heap_size: 987
    stack_size: 28
    reductions: 2737
  neighbours:
2021-04-06 15:20:36 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP' had connection process started with cowboy_clear:start_link/4 at <0.443.0> exit with reason: {{shutdown,{server_initiated_close,404,<<"NOT_FOUND - no queue 'messages' in vhost '/'">>}},{gen_server,call,[<0.458.0>,{subscribe,{'basic.consume',0,<<"messages">>,<<>>,false,true,false,false,[]},<0.460.0>},60000]}}
2021-04-06 15:21:38 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.444.0>
    registered_name: []
    exception exit: {{{{shutdown,{server_initiated_close,404,<<"NOT_FOUND - no queue 'messages' in vhost '/'">>}},{gen_server,call,[<0.458.0>,{subscribe,{'basic.consume',0,<<"messages">>,<<>>,false,true,false,false,[]},<0.460.0>},60000]}},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Basic',consume,4,[{file,"lib/amqp/basic.ex"},{line,375}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,16}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Basic',consume,4,[{file,"lib/amqp/basic.ex"},{line,375}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,16}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.443.0>,<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.443.0>]
    dictionary: [{gen_server_call_timeout,60000}]
    trap_exit: false
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 5544
  neighbours:
2021-04-06 15:21:38 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP', connection process <0.443.0>, stream 1 had its request process <0.444.0> exit with reason {{shutdown,{server_initiated_close,404,<<"NOT_FOUND - no queue 'messages' in vhost '/'">>}},{gen_server,call,[<0.458.0>,{subscribe,{'basic.consume',0,<<"messages">>,<<>>,false,true,false,false,[]},<0.460.0>},60000]}} and stacktrace [{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Basic',consume,4,[{file,"lib/amqp/basic.ex"},{line,375}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,16}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
2021-04-06 15:25:26 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.444.0>
    registered_name: []
    exception exit: {{{{shutdown,{server_initiated_close,404,<<"NOT_FOUND - no queue 'messages' in vhost '/'">>}},{gen_server,call,[<0.458.0>,{subscribe,{'basic.consume',0,<<"messages">>,<<>>,false,true,false,false,[]},<0.460.0>},60000]}},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Basic',consume,4,[{file,"lib/amqp/basic.ex"},{line,375}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,16}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Basic',consume,4,[{file,"lib/amqp/basic.ex"},{line,375}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,16}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.443.0>,<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.443.0>]
    dictionary: [{gen_server_call_timeout,60000}]
    trap_exit: false
    status: running
    heap_size: 987
    stack_size: 28
    reductions: 5548
  neighbours:
2021-04-06 15:25:26 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP', connection process <0.443.0>, stream 1 had its request process <0.444.0> exit with reason {{shutdown,{server_initiated_close,404,<<"NOT_FOUND - no queue 'messages' in vhost '/'">>}},{gen_server,call,[<0.458.0>,{subscribe,{'basic.consume',0,<<"messages">>,<<>>,false,true,false,false,[]},<0.460.0>},60000]}} and stacktrace [{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Basic',consume,4,[{file,"lib/amqp/basic.ex"},{line,375}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,16}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
2021-04-07 18:40:19 =ERROR REPORT====
Failed to start Ranch listener 'Elixir.Websocket.Router.HTTP' in ranch_tcp:listen([{cacerts,'...'},{key,'...'},{cert,'...'},{port,4000}]) for reason eaddrinuse (address already in use)
2021-04-07 18:40:19 =SUPERVISOR REPORT====
     Supervisor: {<0.320.0>,ranch_listener_sup}
     Context:    start_error
     Reason:     {listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}
     Offender:   [{pid,undefined},{id,ranch_acceptors_sup},{mfargs,{ranch_acceptors_sup,start_link,['Elixir.Websocket.Router.HTTP',ranch_tcp]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2021-04-07 18:40:19 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    start_error
     Reason:     {shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}}}
     Offender:   [{pid,undefined},{id,{ranch_listener_sup,'Elixir.Websocket.Router.HTTP'}},{mfargs,{ranch_listener_sup,start_link,['Elixir.Websocket.Router.HTTP',ranch_tcp,#{max_connections => 16384,num_acceptors => 100,socket_opts => [{port,4000}]},cowboy_clear,#{env => #{dispatch => [{'_',[],[{[<<"ws">>,'...'],[],'Elixir.Websocket.SocketHandler',[]},{'_',[],'Elixir.Plug.Cowboy.Handler',{'Elixir.Websocket.Router',[]}}]}]},stream_handlers => [cowboy_telemetry_h,cowboy_stream_h]}]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2021-04-07 18:40:19 =CRASH REPORT====
  crasher:
    initial call: supervisor:ranch_acceptors_sup/1
    pid: <0.322.0>
    registered_name: []
    exception exit: {{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse},[{ranch_acceptors_sup,listen_error,5,[{file,"/home/arthur/code/websocket/deps/ranch/src/ranch_acceptors_sup.erl"},{line,66}]},{supervisor,init,1,[{file,"supervisor.erl"},{line,301}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,417}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,385}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.320.0>,'Elixir.Websocket.Supervisor',<0.318.0>]
    message_queue_len: 0
    messages: []
    links: [<0.320.0>]
    dictionary: [{logger,error_logger}]
    trap_exit: true
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 4702
  neighbours:
2021-04-07 18:40:19 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.317.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,{ranch_listener_sup,'Elixir.Websocket.Router.HTTP'},{shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}}}}},{'Elixir.Websocket.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.316.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.318.0>,normal}]
    links: [<0.316.0>,<0.44.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 376
    stack_size: 28
    reductions: 192
  neighbours:
2021-04-07 18:43:02 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.509.0>
    registered_name: []
    exception exit: {{{{shutdown,{server_initiated_close,404,<<"NOT_FOUND - no queue 'messages' in vhost '/'">>}},{gen_server,call,[<0.521.0>,{subscribe,{'basic.consume',0,<<"messages">>,<<>>,false,true,false,false,[]},<0.523.0>},60000]}},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Basic',consume,4,[{file,"lib/amqp/basic.ex"},{line,375}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,16}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Basic',consume,4,[{file,"lib/amqp/basic.ex"},{line,375}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,16}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.507.0>,<0.321.0>,<0.320.0>,'Elixir.Websocket.Supervisor',<0.318.0>]
    message_queue_len: 0
    messages: []
    links: [<0.507.0>]
    dictionary: [{gen_server_call_timeout,60000}]
    trap_exit: false
    status: running
    heap_size: 987
    stack_size: 28
    reductions: 5312
  neighbours:
2021-04-07 18:43:02 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP', connection process <0.507.0>, stream 1 had its request process <0.509.0> exit with reason {{shutdown,{server_initiated_close,404,<<"NOT_FOUND - no queue 'messages' in vhost '/'">>}},{gen_server,call,[<0.521.0>,{subscribe,{'basic.consume',0,<<"messages">>,<<>>,false,true,false,false,[]},<0.523.0>},60000]}} and stacktrace [{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Basic',consume,4,[{file,"lib/amqp/basic.ex"},{line,375}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,16}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
2021-04-07 18:55:40 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.444.0>
    registered_name: []
    exception exit: {{{{shutdown,{server_initiated_close,404,<<"NOT_FOUND - no exchange 'websocket_test_exchange' in vhost '/'">>}},{gen_server,call,[<0.458.0>,{call,{'queue.bind',0,<<"websocket_test_queue">>,<<"websocket_test_exchange">>,<<>>,false,[]},none,<0.444.0>},60000]}},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',bind,4,[{file,"lib/amqp/queue.ex"},{line,81}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,109}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',bind,4,[{file,"lib/amqp/queue.ex"},{line,81}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,109}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.443.0>,<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.443.0>]
    dictionary: [{gen_server_call_timeout,60000}]
    trap_exit: false
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 5681
  neighbours:
2021-04-07 18:55:40 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP', connection process <0.443.0>, stream 1 had its request process <0.444.0> exit with reason {{shutdown,{server_initiated_close,404,<<"NOT_FOUND - no exchange 'websocket_test_exchange' in vhost '/'">>}},{gen_server,call,[<0.458.0>,{call,{'queue.bind',0,<<"websocket_test_queue">>,<<"websocket_test_exchange">>,<<>>,false,[]},none,<0.444.0>},60000]}} and stacktrace [{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',bind,4,[{file,"lib/amqp/queue.ex"},{line,81}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,109}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
2021-04-07 18:56:33 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.444.0>
    registered_name: []
    exception exit: {{{{shutdown,{server_initiated_close,404,<<"NOT_FOUND - no queue 'websocket_test_queue' in vhost '/'">>}},{gen_server,call,[<0.458.0>,{call,{'queue.bind',0,<<"websocket_test_queue">>,<<"websocket_test_exchange">>,<<>>,false,[]},none,<0.444.0>},60000]}},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',bind,4,[{file,"lib/amqp/queue.ex"},{line,81}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,109}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',bind,4,[{file,"lib/amqp/queue.ex"},{line,81}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,109}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.443.0>,<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.443.0>]
    dictionary: [{gen_server_call_timeout,60000}]
    trap_exit: false
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 5589
  neighbours:
2021-04-07 18:56:33 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP', connection process <0.443.0>, stream 1 had its request process <0.444.0> exit with reason {{shutdown,{server_initiated_close,404,<<"NOT_FOUND - no queue 'websocket_test_queue' in vhost '/'">>}},{gen_server,call,[<0.458.0>,{call,{'queue.bind',0,<<"websocket_test_queue">>,<<"websocket_test_exchange">>,<<>>,false,[]},none,<0.444.0>},60000]}} and stacktrace [{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',bind,4,[{file,"lib/amqp/queue.ex"},{line,81}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,109}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
2021-04-07 18:57:36 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.444.0>
    registered_name: []
    exception exit: {{{{shutdown,{server_initiated_close,404,<<"NOT_FOUND - no queue 'websocket_test_queue' in vhost '/'">>}},{gen_server,call,[<0.458.0>,{call,{'queue.bind',0,<<"websocket_test_queue">>,<<"websocket_test_exchange">>,<<>>,false,[]},none,<0.444.0>},60000]}},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',bind,4,[{file,"lib/amqp/queue.ex"},{line,81}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,109}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',bind,4,[{file,"lib/amqp/queue.ex"},{line,81}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,109}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.443.0>,<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.443.0>]
    dictionary: [{gen_server_call_timeout,60000}]
    trap_exit: false
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 5585
  neighbours:
2021-04-07 18:57:36 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP', connection process <0.443.0>, stream 1 had its request process <0.444.0> exit with reason {{shutdown,{server_initiated_close,404,<<"NOT_FOUND - no queue 'websocket_test_queue' in vhost '/'">>}},{gen_server,call,[<0.458.0>,{call,{'queue.bind',0,<<"websocket_test_queue">>,<<"websocket_test_exchange">>,<<>>,false,[]},none,<0.444.0>},60000]}} and stacktrace [{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',bind,4,[{file,"lib/amqp/queue.ex"},{line,81}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,109}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
2021-04-07 19:08:25 =ERROR REPORT====
** Generic server <0.492.0> terminating
** Last message in was {consumer_call,{'basic.deliver',<<"amq.ctag-0vhlEQQzbbsqHaK3Cie5Qg">>,1,false,<<"websocket_test_exchange">>,<<>>},{amqp_msg,{'P_basic',undefined,undefined,undefined,1,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined},<<"fuck you">>}}
** When Server state == {state,amqp_selective_consumer,{state,#{},undefined,#{},none}}
** Reason for termination == 
** unexpected_delivery_and_no_default_consumer
2021-04-07 19:08:25 =CRASH REPORT====
  crasher:
    initial call: amqp_gen_consumer:init/1
    pid: <0.492.0>
    registered_name: []
    exception exit: {unexpected_delivery_and_no_default_consumer,[{gen_server2,terminate,3,[{file,"/home/arthur/code/websocket/deps/rabbit_common/src/gen_server2.erl"},{line,1183}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.491.0>,<0.485.0>,<0.483.0>,<0.482.0>,amqp_sup,<0.324.0>]
    message_queue_len: 0
    messages: []
    links: [<0.491.0>]
    dictionary: [{process_name,{amqp_gen_consumer,{<<"client 127.0.0.1:57547 -> 127.0.0.1:5672">>,1}}}]
    trap_exit: false
    status: running
    heap_size: 987
    stack_size: 28
    reductions: 4185
  neighbours:
2021-04-07 19:08:25 =ERROR REPORT====
** Generic server <0.493.0> terminating 
** Last message in was {'$gen_cast',{method,{'basic.deliver',<<"amq.ctag-0vhlEQQzbbsqHaK3Cie5Qg">>,1,false,<<"websocket_test_exchange">>,<<>>},{content,60,none,<<16,0,1>>,rabbit_framing_amqp_0_9_1,[<<"fuck you">>]},noflow}}
** When Server state == {state,1,<0.484.0>,<0.492.0>,network,{[],[]},false,<0.494.0>,none,none,0,true,none,{0,nil},{0,nil},true,false}
** Reason for termination ==
** {{unexpected_delivery_and_no_default_consumer,{gen_server2,call,[<0.492.0>,{consumer_call,{'basic.deliver',<<"amq.ctag-0vhlEQQzbbsqHaK3Cie5Qg">>,1,false,<<"websocket_test_exchange">>,<<>>},{amqp_msg,{'P_basic',undefined,undefined,undefined,1,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined},<<"fuck you">>}},60000]}},[{gen_server2,call,3,[{file,"/home/arthur/code/websocket/deps/rabbit_common/src/gen_server2.erl"},{line,346}]},{amqp_channel,handle_method_from_server1,3,[{file,"/home/arthur/code/websocket/deps/amqp_client/src/amqp_channel.erl"},{line,762}]},{gen_server,try_dispatch,4,[{file,"gen_server.erl"},{line,689}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,765}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-07 19:08:25 =SUPERVISOR REPORT====
     Supervisor: {<0.491.0>,amqp_channel_sup}
     Context:    child_terminated
     Reason:     unexpected_delivery_and_no_default_consumer
     Offender:   [{pid,<0.492.0>},{id,gen_consumer},{mfargs,{amqp_gen_consumer,start_link,[amqp_selective_consumer,[],{<<"client 127.0.0.1:57547 -> 127.0.0.1:5672">>,1}]}},{restart_type,intrinsic},{shutdown,30000},{child_type,worker}]

2021-04-07 19:08:25 =SUPERVISOR REPORT====
     Supervisor: {<0.491.0>,amqp_channel_sup}
     Context:    shutdown
     Reason:     reached_max_restart_intensity
     Offender:   [{pid,<0.492.0>},{id,gen_consumer},{mfargs,{amqp_gen_consumer,start_link,[amqp_selective_consumer,[],{<<"client 127.0.0.1:57547 -> 127.0.0.1:5672">>,1}]}},{restart_type,intrinsic},{shutdown,30000},{child_type,worker}]

2021-04-07 19:17:46 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.554.0>
    registered_name: []
    exception exit: {{{{shutdown,{server_initiated_close,405,<<"RESOURCE_LOCKED - cannot obtain exclusive access to locked queue 'websocket_test_queue' in vhost '/'. It could be originally declared on another connection or the exclusive property value does not match that of the original declaration.">>}},{gen_server,call,[<0.566.0>,{call,{'queue.declare',0,<<"websocket_test_queue">>,false,false,true,false,false,[]},none,<0.554.0>},60000]}},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',declare,3,[{file,"lib/amqp/queue.ex"},{line,45}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,117}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',declare,3,[{file,"lib/amqp/queue.ex"},{line,45}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,117}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.553.0>,<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.553.0>]
    dictionary: [{gen_server_call_timeout,60000}]
    trap_exit: false
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 5235
  neighbours:
2021-04-07 19:17:46 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP', connection process <0.553.0>, stream 1 had its request process <0.554.0> exit with reason {{shutdown,{server_initiated_close,405,<<"RESOURCE_LOCKED - cannot obtain exclusive access to locked queue 'websocket_test_queue' in vhost '/'. It could be originally declared on another connection or the exclusive property value does not match that of the original declaration.">>}},{gen_server,call,[<0.566.0>,{call,{'queue.declare',0,<<"websocket_test_queue">>,false,false,true,false,false,[]},none,<0.554.0>},60000]}} and stacktrace [{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',declare,3,[{file,"lib/amqp/queue.ex"},{line,45}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,117}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
2021-04-07 19:18:21 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.573.0>
    registered_name: []
    exception exit: {{{{shutdown,{server_initiated_close,405,<<"RESOURCE_LOCKED - cannot obtain exclusive access to locked queue 'websocket_test_queue' in vhost '/'. It could be originally declared on another connection or the exclusive property value does not match that of the original declaration.">>}},{gen_server,call,[<0.585.0>,{call,{'queue.declare',0,<<"websocket_test_queue">>,false,false,true,false,false,[]},none,<0.573.0>},60000]}},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',declare,3,[{file,"lib/amqp/queue.ex"},{line,45}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,117}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',declare,3,[{file,"lib/amqp/queue.ex"},{line,45}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,117}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.572.0>,<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.572.0>]
    dictionary: [{gen_server_call_timeout,60000}]
    trap_exit: false
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 5235
  neighbours:
2021-04-07 19:18:21 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP', connection process <0.572.0>, stream 1 had its request process <0.573.0> exit with reason {{shutdown,{server_initiated_close,405,<<"RESOURCE_LOCKED - cannot obtain exclusive access to locked queue 'websocket_test_queue' in vhost '/'. It could be originally declared on another connection or the exclusive property value does not match that of the original declaration.">>}},{gen_server,call,[<0.585.0>,{call,{'queue.declare',0,<<"websocket_test_queue">>,false,false,true,false,false,[]},none,<0.573.0>},60000]}} and stacktrace [{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',declare,3,[{file,"lib/amqp/queue.ex"},{line,45}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,117}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
2021-04-07 19:20:42 =ERROR REPORT====
** Generic server <0.443.0> terminating
** Last message in was {consumer_call,{'basic.deliver',<<"amq.ctag-U9xrIs8olFEPbQOafSLR0w">>,1,false,<<"websocket_test_exchange">>,<<>>},{amqp_msg,{'P_basic',undefined,undefined,undefined,1,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined},<<"Hello server!">>}}
** When Server state == {state,amqp_selective_consumer,{state,#{},undefined,#{},none}}
** Reason for termination == 
** unexpected_delivery_and_no_default_consumer
2021-04-07 19:20:42 =CRASH REPORT====
  crasher:
    initial call: amqp_gen_consumer:init/1
    pid: <0.443.0>
    registered_name: []
    exception exit: {unexpected_delivery_and_no_default_consumer,[{gen_server2,terminate,3,[{file,"/home/arthur/code/websocket/deps/rabbit_common/src/gen_server2.erl"},{line,1183}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.442.0>,<0.436.0>,<0.432.0>,<0.431.0>,amqp_sup,<0.309.0>]
    message_queue_len: 0
    messages: []
    links: [<0.442.0>]
    dictionary: [{process_name,{amqp_gen_consumer,{<<"client 127.0.0.1:51507 -> 127.0.0.1:5672">>,1}}}]
    trap_exit: false
    status: running
    heap_size: 2586
    stack_size: 28
    reductions: 4275
  neighbours:
2021-04-07 19:20:42 =SUPERVISOR REPORT====
     Supervisor: {<0.442.0>,amqp_channel_sup}
     Context:    child_terminated
     Reason:     unexpected_delivery_and_no_default_consumer
     Offender:   [{pid,<0.443.0>},{id,gen_consumer},{mfargs,{amqp_gen_consumer,start_link,[amqp_selective_consumer,[],{<<"client 127.0.0.1:51507 -> 127.0.0.1:5672">>,1}]}},{restart_type,intrinsic},{shutdown,30000},{child_type,worker}]

2021-04-07 19:20:42 =SUPERVISOR REPORT====
     Supervisor: {<0.442.0>,amqp_channel_sup}
     Context:    shutdown
     Reason:     reached_max_restart_intensity
     Offender:   [{pid,<0.443.0>},{id,gen_consumer},{mfargs,{amqp_gen_consumer,start_link,[amqp_selective_consumer,[],{<<"client 127.0.0.1:51507 -> 127.0.0.1:5672">>,1}]}},{restart_type,intrinsic},{shutdown,30000},{child_type,worker}]

2021-04-07 19:55:57 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.331.0>
    registered_name: []
    exception exit: {{bad_return,{{'Elixir.Websocket.Application',start,[normal,[]]},{'EXIT',{#{'__exception__' => true,'__struct__' => 'Elixir.ArgumentError',message => <<"could not fetch application environment :port for application :websocket because configuration at :port was not set">>},[{'Elixir.Application','fetch_env!',2,[{file,"lib/application.ex"},{line,656}]},{'Elixir.Websocket.Application',start,2,[{file,"lib/websocket/application.ex"},{line,12}]},{application_master,start_it_old,4,[{file,"application_master.erl"},{line,277}]}]}}}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.330.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.332.0>,normal}]
    links: [<0.330.0>,<0.44.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 28
    reductions: 215
  neighbours:
2021-04-07 19:56:15 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.317.0>
    registered_name: []
    exception exit: {{bad_return,{{'Elixir.Websocket.Application',start,[normal,[]]},{'EXIT',{#{'__exception__' => true,'__struct__' => 'Elixir.ArgumentError',message => <<"could not fetch application environment :port for application :websocket because configuration at :port was not set">>},[{'Elixir.Application','fetch_env!',2,[{file,"lib/application.ex"},{line,656}]},{'Elixir.Websocket.Application',start,2,[{file,"lib/websocket/application.ex"},{line,12}]},{application_master,start_it_old,4,[{file,"application_master.erl"},{line,277}]}]}}}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.316.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.318.0>,normal}]
    links: [<0.316.0>,<0.44.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 28
    reductions: 215
  neighbours:
2021-04-07 19:58:47 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.331.0>
    registered_name: []
    exception exit: {{bad_return,{{'Elixir.Websocket.Application',start,[normal,[]]},{'EXIT',{#{'__exception__' => true,'__struct__' => 'Elixir.ArgumentError',message => <<"could not fetch application environment :port for application :websocket because configuration at :port was not set">>},[{'Elixir.Application','fetch_env!',2,[{file,"lib/application.ex"},{line,656}]},{'Elixir.Websocket.Application',start,2,[{file,"lib/websocket/application.ex"},{line,12}]},{application_master,start_it_old,4,[{file,"application_master.erl"},{line,277}]}]}}}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.330.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.332.0>,normal}]
    links: [<0.330.0>,<0.44.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 28
    reductions: 215
  neighbours:
2021-04-07 20:02:59 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.443.0>
    registered_name: []
    exception exit: {{{{shutdown,{server_initiated_close,405,<<"RESOURCE_LOCKED - cannot obtain exclusive access to locked queue 'websocket_test_queue' in vhost '/'. It could be originally declared on another connection or the exclusive property value does not match that of the original declaration.">>}},{gen_server,call,[<0.457.0>,{call,{'queue.declare',0,<<"websocket_test_queue">>,false,false,true,false,false,[]},none,<0.443.0>},60000]}},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',declare,3,[{file,"lib/amqp/queue.ex"},{line,45}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,114}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',declare,3,[{file,"lib/amqp/queue.ex"},{line,45}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,114}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.442.0>,<0.335.0>,<0.334.0>,'Elixir.Websocket.Supervisor',<0.332.0>]
    message_queue_len: 0
    messages: []
    links: [<0.442.0>]
    dictionary: [{gen_server_call_timeout,60000}]
    trap_exit: false
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 5587
  neighbours:
2021-04-07 20:02:59 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP', connection process <0.442.0>, stream 1 had its request process <0.443.0> exit with reason {{shutdown,{server_initiated_close,405,<<"RESOURCE_LOCKED - cannot obtain exclusive access to locked queue 'websocket_test_queue' in vhost '/'. It could be originally declared on another connection or the exclusive property value does not match that of the original declaration.">>}},{gen_server,call,[<0.457.0>,{call,{'queue.declare',0,<<"websocket_test_queue">>,false,false,true,false,false,[]},none,<0.443.0>},60000]}} and stacktrace [{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',declare,3,[{file,"lib/amqp/queue.ex"},{line,45}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,114}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
2021-04-07 20:03:28 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.465.0>
    registered_name: []
    exception exit: {{{{shutdown,{server_initiated_close,405,<<"RESOURCE_LOCKED - cannot obtain exclusive access to locked queue 'websocket_test_queue' in vhost '/'. It could be originally declared on another connection or the exclusive property value does not match that of the original declaration.">>}},{gen_server,call,[<0.477.0>,{call,{'queue.declare',0,<<"websocket_test_queue">>,false,false,true,false,false,[]},none,<0.465.0>},60000]}},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',declare,3,[{file,"lib/amqp/queue.ex"},{line,45}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,114}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',declare,3,[{file,"lib/amqp/queue.ex"},{line,45}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,114}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.464.0>,<0.335.0>,<0.334.0>,'Elixir.Websocket.Supervisor',<0.332.0>]
    message_queue_len: 0
    messages: []
    links: [<0.464.0>]
    dictionary: [{gen_server_call_timeout,60000}]
    trap_exit: false
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 5323
  neighbours:
2021-04-07 20:03:28 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP', connection process <0.464.0>, stream 1 had its request process <0.465.0> exit with reason {{shutdown,{server_initiated_close,405,<<"RESOURCE_LOCKED - cannot obtain exclusive access to locked queue 'websocket_test_queue' in vhost '/'. It could be originally declared on another connection or the exclusive property value does not match that of the original declaration.">>}},{gen_server,call,[<0.477.0>,{call,{'queue.declare',0,<<"websocket_test_queue">>,false,false,true,false,false,[]},none,<0.465.0>},60000]}} and stacktrace [{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',declare,3,[{file,"lib/amqp/queue.ex"},{line,45}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,114}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
2021-04-07 20:03:28 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.480.0>
    registered_name: []
    exception exit: {{{{shutdown,{server_initiated_close,405,<<"RESOURCE_LOCKED - cannot obtain exclusive access to locked queue 'websocket_test_queue' in vhost '/'. It could be originally declared on another connection or the exclusive property value does not match that of the original declaration.">>}},{gen_server,call,[<0.492.0>,{call,{'queue.declare',0,<<"websocket_test_queue">>,false,false,true,false,false,[]},none,<0.480.0>},60000]}},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',declare,3,[{file,"lib/amqp/queue.ex"},{line,45}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,114}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',declare,3,[{file,"lib/amqp/queue.ex"},{line,45}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,114}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.479.0>,<0.335.0>,<0.334.0>,'Elixir.Websocket.Supervisor',<0.332.0>]
    message_queue_len: 0
    messages: []
    links: [<0.479.0>]
    dictionary: [{gen_server_call_timeout,60000}]
    trap_exit: false
    status: running
    heap_size: 987
    stack_size: 28
    reductions: 5321
  neighbours:
2021-04-07 20:03:28 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP', connection process <0.479.0>, stream 1 had its request process <0.480.0> exit with reason {{shutdown,{server_initiated_close,405,<<"RESOURCE_LOCKED - cannot obtain exclusive access to locked queue 'websocket_test_queue' in vhost '/'. It could be originally declared on another connection or the exclusive property value does not match that of the original declaration.">>}},{gen_server,call,[<0.492.0>,{call,{'queue.declare',0,<<"websocket_test_queue">>,false,false,true,false,false,[]},none,<0.480.0>},60000]}} and stacktrace [{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',declare,3,[{file,"lib/amqp/queue.ex"},{line,45}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,114}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
2021-04-07 20:03:44 =ERROR REPORT====
Failed to start Ranch listener 'Elixir.Websocket.Router.HTTP' in ranch_tcp:listen([{cacerts,'...'},{key,'...'},{cert,'...'},{port,4001}]) for reason eaddrinuse (address already in use)
2021-04-07 20:03:44 =SUPERVISOR REPORT====
     Supervisor: {<0.320.0>,ranch_listener_sup}
     Context:    start_error
     Reason:     {listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}
     Offender:   [{pid,undefined},{id,ranch_acceptors_sup},{mfargs,{ranch_acceptors_sup,start_link,['Elixir.Websocket.Router.HTTP',ranch_tcp]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2021-04-07 20:03:44 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    start_error
     Reason:     {shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}}}
     Offender:   [{pid,undefined},{id,{ranch_listener_sup,'Elixir.Websocket.Router.HTTP'}},{mfargs,{ranch_listener_sup,start_link,['Elixir.Websocket.Router.HTTP',ranch_tcp,#{max_connections => 16384,num_acceptors => 100,socket_opts => [{port,4001}]},cowboy_clear,#{env => #{dispatch => [{'_',[],[{[<<"ws">>,'...'],[],'Elixir.Websocket.SocketHandler',[]},{'_',[],'Elixir.Plug.Cowboy.Handler',{'Elixir.Websocket.Router',[]}}]}]},stream_handlers => [cowboy_telemetry_h,cowboy_stream_h]}]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2021-04-07 20:03:44 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.317.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,{ranch_listener_sup,'Elixir.Websocket.Router.HTTP'},{shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}}}}},{'Elixir.Websocket.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.316.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.318.0>,normal}]
    links: [<0.316.0>,<0.44.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 376
    stack_size: 28
    reductions: 214
  neighbours:
2021-04-07 20:03:44 =CRASH REPORT====
  crasher:
    initial call: supervisor:ranch_acceptors_sup/1
    pid: <0.322.0>
    registered_name: []
    exception exit: {{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse},[{ranch_acceptors_sup,listen_error,5,[{file,"/home/arthur/code/websocket/deps/ranch/src/ranch_acceptors_sup.erl"},{line,66}]},{supervisor,init,1,[{file,"supervisor.erl"},{line,301}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,417}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,385}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.320.0>,'Elixir.Websocket.Supervisor',<0.318.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.320.0>,{shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}}}}]
    links: []
    dictionary: [{logger,error_logger}]
    trap_exit: true
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 4703
  neighbours:
2021-04-07 20:04:36 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.442.0>
    registered_name: []
    exception exit: {{{{shutdown,{server_initiated_close,405,<<"RESOURCE_LOCKED - cannot obtain exclusive access to locked queue 'websocket_test_queue' in vhost '/'. It could be originally declared on another connection or the exclusive property value does not match that of the original declaration.">>}},{gen_server,call,[<0.456.0>,{call,{'queue.declare',0,<<"websocket_test_queue">>,false,false,true,false,false,[]},none,<0.442.0>},60000]}},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',declare,3,[{file,"lib/amqp/queue.ex"},{line,45}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,114}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',declare,3,[{file,"lib/amqp/queue.ex"},{line,45}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,114}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.441.0>,<0.335.0>,<0.334.0>,'Elixir.Websocket.Supervisor',<0.332.0>]
    message_queue_len: 0
    messages: []
    links: [<0.441.0>]
    dictionary: [{gen_server_call_timeout,60000}]
    trap_exit: false
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 5552
  neighbours:
2021-04-07 20:04:36 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP', connection process <0.441.0>, stream 1 had its request process <0.442.0> exit with reason {{shutdown,{server_initiated_close,405,<<"RESOURCE_LOCKED - cannot obtain exclusive access to locked queue 'websocket_test_queue' in vhost '/'. It could be originally declared on another connection or the exclusive property value does not match that of the original declaration.">>}},{gen_server,call,[<0.456.0>,{call,{'queue.declare',0,<<"websocket_test_queue">>,false,false,true,false,false,[]},none,<0.442.0>},60000]}} and stacktrace [{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',declare,3,[{file,"lib/amqp/queue.ex"},{line,45}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,114}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
2021-04-07 20:08:36 =ERROR REPORT====
** Generic server <0.456.0> terminating
** Last message in was {consumer_call,{'basic.deliver',<<"amq.ctag-0Ef3QR7nmRchgfs4hQV6jQ">>,1,false,<<"websocket_test_exchange">>,<<>>},{amqp_msg,{'P_basic',undefined,undefined,undefined,1,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined},<<"Hello server!">>}}
** When Server state == {state,amqp_selective_consumer,{state,#{},undefined,#{},none}}
** Reason for termination == 
** unexpected_delivery_and_no_default_consumer
2021-04-07 20:08:36 =CRASH REPORT====
  crasher:
    initial call: amqp_gen_consumer:init/1
    pid: <0.456.0>
    registered_name: []
    exception exit: {unexpected_delivery_and_no_default_consumer,[{gen_server2,terminate,3,[{file,"/home/arthur/code/websocket/deps/rabbit_common/src/gen_server2.erl"},{line,1183}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.455.0>,<0.449.0>,<0.445.0>,<0.444.0>,amqp_sup,<0.324.0>]
    message_queue_len: 0
    messages: []
    links: [<0.455.0>]
    dictionary: [{process_name,{amqp_gen_consumer,{<<"client 127.0.0.1:32783 -> 127.0.0.1:5672">>,1}}}]
    trap_exit: false
    status: running
    heap_size: 2586
    stack_size: 28
    reductions: 4275
  neighbours:
2021-04-07 20:08:36 =SUPERVISOR REPORT====
     Supervisor: {<0.455.0>,amqp_channel_sup}
     Context:    child_terminated
     Reason:     unexpected_delivery_and_no_default_consumer
     Offender:   [{pid,<0.456.0>},{id,gen_consumer},{mfargs,{amqp_gen_consumer,start_link,[amqp_selective_consumer,[],{<<"client 127.0.0.1:32783 -> 127.0.0.1:5672">>,1}]}},{restart_type,intrinsic},{shutdown,30000},{child_type,worker}]

2021-04-07 20:08:36 =SUPERVISOR REPORT====
     Supervisor: {<0.455.0>,amqp_channel_sup}
     Context:    shutdown
     Reason:     reached_max_restart_intensity
     Offender:   [{pid,<0.456.0>},{id,gen_consumer},{mfargs,{amqp_gen_consumer,start_link,[amqp_selective_consumer,[],{<<"client 127.0.0.1:32783 -> 127.0.0.1:5672">>,1}]}},{restart_type,intrinsic},{shutdown,30000},{child_type,worker}]

2021-04-07 20:09:53 =ERROR REPORT====
** Generic server <0.456.0> terminating
** Last message in was {consumer_call,{'basic.deliver',<<"amq.ctag-JvslPtGFLTkc7k1x2oKsag">>,1,true,<<"websocket_test_exchange">>,<<>>},{amqp_msg,{'P_basic',undefined,undefined,undefined,1,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined},<<"Hello server!">>}}
** When Server state == {state,amqp_selective_consumer,{state,#{},undefined,#{},none}}
** Reason for termination == 
** unexpected_delivery_and_no_default_consumer
2021-04-07 20:09:53 =CRASH REPORT====
  crasher:
    initial call: amqp_gen_consumer:init/1
    pid: <0.456.0>
    registered_name: []
    exception exit: {unexpected_delivery_and_no_default_consumer,[{gen_server2,terminate,3,[{file,"/home/arthur/code/websocket/deps/rabbit_common/src/gen_server2.erl"},{line,1183}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.455.0>,<0.449.0>,<0.445.0>,<0.444.0>,amqp_sup,<0.324.0>]
    message_queue_len: 0
    messages: []
    links: [<0.455.0>]
    dictionary: [{process_name,{amqp_gen_consumer,{<<"client 127.0.0.1:54693 -> 127.0.0.1:5672">>,1}}}]
    trap_exit: false
    status: running
    heap_size: 2586
    stack_size: 28
    reductions: 4275
  neighbours:
2021-04-07 20:09:53 =SUPERVISOR REPORT====
     Supervisor: {<0.455.0>,amqp_channel_sup}
     Context:    child_terminated
     Reason:     unexpected_delivery_and_no_default_consumer
     Offender:   [{pid,<0.456.0>},{id,gen_consumer},{mfargs,{amqp_gen_consumer,start_link,[amqp_selective_consumer,[],{<<"client 127.0.0.1:54693 -> 127.0.0.1:5672">>,1}]}},{restart_type,intrinsic},{shutdown,30000},{child_type,worker}]

2021-04-07 20:09:53 =SUPERVISOR REPORT====
     Supervisor: {<0.455.0>,amqp_channel_sup}
     Context:    shutdown
     Reason:     reached_max_restart_intensity
     Offender:   [{pid,<0.456.0>},{id,gen_consumer},{mfargs,{amqp_gen_consumer,start_link,[amqp_selective_consumer,[],{<<"client 127.0.0.1:54693 -> 127.0.0.1:5672">>,1}]}},{restart_type,intrinsic},{shutdown,30000},{child_type,worker}]

2021-04-08 13:30:22 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.351.0>
    registered_name: []
    exception exit: {{bad_return,{{'Elixir.Websocket.Application',start,[normal,[]]},{'EXIT',{#{'__exception__' => true,'__struct__' => 'Elixir.ArgumentError',message => <<"supervisors expect each child to be one of the following:\n\n  * a module\n  * a {module, arg} tuple\n  * a child specification as a map with at least the :id and :start fields\n  * or a tuple with 6 elements generated by Supervisor.Spec (deprecated)\n\nGot: {Websocket.AMQPConsumer}\n">>},[{'Elixir.Supervisor',init_child,1,[{file,"lib/supervisor.ex"},{line,648}]},{'Elixir.Enum','-map/2-lists^map/1-0-',2,[{file,"lib/enum.ex"},{line,1399}]},{'Elixir.Enum','-map/2-lists^map/1-0-',2,[{file,"lib/enum.ex"},{line,1399}]},{'Elixir.Supervisor',init,2,[{file,"lib/supervisor.ex"},{line,617}]},{'Elixir.Supervisor',start_link,2,[{file,"lib/supervisor.ex"},{line,556}]},{application_master,start_it_old,4,[{file,"application_master.erl"},{line,277}]}]}}}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.350.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.352.0>,normal}]
    links: [<0.350.0>,<0.44.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 28
    reductions: 227
  neighbours:
2021-04-08 13:30:42 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    start_error
     Reason:     {'EXIT',{undef,[{'Elixir.Websocket.AMQPConsumer',start_link,[<<>>],[]},{supervisor,do_start_child_i,3,[{file,"supervisor.erl"},{line,385}]},{supervisor,do_start_child,2,[{file,"supervisor.erl"},{line,371}]},{supervisor,'-start_children/2-fun-0-',3,[{file,"supervisor.erl"},{line,355}]},{supervisor,children_map,4,[{file,"supervisor.erl"},{line,1171}]},{supervisor,init_children,2,[{file,"supervisor.erl"},{line,321}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,417}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,385}]}]}}
     Offender:   [{pid,undefined},{id,'Elixir.Websocket.AMQPConsumer'},{mfargs,{'Elixir.Websocket.AMQPConsumer',start_link,[<<>>]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2021-04-08 13:30:42 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.331.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,'Elixir.Websocket.AMQPConsumer',{'EXIT',{undef,[{'Elixir.Websocket.AMQPConsumer',start_link,[<<>>],[]},{supervisor,do_start_child_i,3,[{file,"supervisor.erl"},{line,385}]},{supervisor,do_start_child,2,[{file,"supervisor.erl"},{line,371}]},{supervisor,'-start_children/2-fun-0-',3,[{file,"supervisor.erl"},{line,355}]},{supervisor,children_map,4,[{file,"supervisor.erl"},{line,1171}]},{supervisor,init_children,2,[{file,"supervisor.erl"},{line,321}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,417}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,385}]}]}}}},{'Elixir.Websocket.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.330.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.332.0>,normal}]
    links: [<0.330.0>,<0.44.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 987
    stack_size: 28
    reductions: 235
  neighbours:
2021-04-08 13:32:19 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.465.0>
    registered_name: []
    exception exit: {{{{shutdown,{server_initiated_close,406,<<"PRECONDITION_FAILED - inequivalent arg 'durable' for exchange 'websocket_test_exchange' in vhost '/': received 'false' but current is 'true'">>}},{gen_server,call,[<0.477.0>,{call,{'exchange.declare',0,<<"websocket_test_exchange">>,<<"fanout">>,false,false,false,false,false,[]},none,<0.465.0>},70000]}},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Exchange',declare,4,[{file,"lib/amqp/exchange.ex"},{line,48}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,121}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Exchange',declare,4,[{file,"lib/amqp/exchange.ex"},{line,48}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,121}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.464.0>,<0.341.0>,<0.340.0>,'Elixir.Websocket.Supervisor',<0.338.0>]
    message_queue_len: 0
    messages: []
    links: [<0.464.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: false
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 5298
  neighbours:
2021-04-08 13:32:19 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP', connection process <0.464.0>, stream 1 had its request process <0.465.0> exit with reason {{shutdown,{server_initiated_close,406,<<"PRECONDITION_FAILED - inequivalent arg 'durable' for exchange 'websocket_test_exchange' in vhost '/': received 'false' but current is 'true'">>}},{gen_server,call,[<0.477.0>,{call,{'exchange.declare',0,<<"websocket_test_exchange">>,<<"fanout">>,false,false,false,false,false,[]},none,<0.465.0>},70000]}} and stacktrace [{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Exchange',declare,4,[{file,"lib/amqp/exchange.ex"},{line,48}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,121}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
2021-04-08 13:33:21 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    start_error
     Reason:     {{shutdown,{server_initiated_close,406,<<"PRECONDITION_FAILED - inequivalent arg 'durable' for queue 'websocket_test_queue' in vhost '/': received 'false' but current is 'true'">>}},{gen_server,call,[<0.452.0>,{call,{'queue.declare',0,<<"websocket_test_queue">>,false,false,false,false,false,[]},none,<0.438.0>},70000]}}
     Offender:   [{pid,undefined},{id,'Elixir.Websocket.AMQPConsumer'},{mfargs,{'Elixir.Websocket.AMQPConsumer',start_link,[[]]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2021-04-08 13:33:21 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.332.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,'Elixir.Websocket.AMQPConsumer',{{shutdown,{server_initiated_close,406,<<"PRECONDITION_FAILED - inequivalent arg 'durable' for queue 'websocket_test_queue' in vhost '/': received 'false' but current is 'true'">>}},{gen_server,call,[<0.452.0>,{call,{'queue.declare',0,<<"websocket_test_queue">>,false,false,false,false,false,[]},none,<0.438.0>},70000]}}}},{'Elixir.Websocket.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.331.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.333.0>,normal}]
    links: [<0.331.0>,<0.44.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 28
    reductions: 216
  neighbours:
2021-04-08 13:33:21 =CRASH REPORT====
  crasher:
    initial call: Elixir.Websocket.AMQPConsumer:init/1
    pid: <0.438.0>
    registered_name: []
    exception exit: {{{shutdown,{server_initiated_close,406,<<"PRECONDITION_FAILED - inequivalent arg 'durable' for queue 'websocket_test_queue' in vhost '/': received 'false' but current is 'true'">>}},{gen_server,call,[<0.452.0>,{call,{'queue.declare',0,<<"websocket_test_queue">>,false,false,false,false,false,[]},none,<0.438.0>},70000]}},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',declare,3,[{file,"lib/amqp/queue.ex"},{line,45}]},{'Elixir.Websocket.AMQPConsumer',setup_queue,1,[{file,"lib/amqp_consumer.ex"},{line,53}]},{'Elixir.Websocket.AMQPConsumer',init,1,[{file,"lib/amqp_consumer.ex"},{line,19}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,417}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,385}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: ['Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.334.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: false
    status: running
    heap_size: 2586
    stack_size: 28
    reductions: 39700
  neighbours:
2021-04-08 13:33:53 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    start_error
     Reason:     {{shutdown,{server_initiated_close,406,<<"PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'websocket_test_queue' in vhost '/': received none but current is the value '' of type 'longstr'">>}},{gen_server,call,[<0.452.0>,{call,{'queue.declare',0,<<"websocket_test_queue">>,false,true,false,false,false,[]},none,<0.438.0>},70000]}}
     Offender:   [{pid,undefined},{id,'Elixir.Websocket.AMQPConsumer'},{mfargs,{'Elixir.Websocket.AMQPConsumer',start_link,[[]]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2021-04-08 13:33:53 =CRASH REPORT====
  crasher:
    initial call: Elixir.Websocket.AMQPConsumer:init/1
    pid: <0.438.0>
    registered_name: []
    exception exit: {{{shutdown,{server_initiated_close,406,<<"PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'websocket_test_queue' in vhost '/': received none but current is the value '' of type 'longstr'">>}},{gen_server,call,[<0.452.0>,{call,{'queue.declare',0,<<"websocket_test_queue">>,false,true,false,false,false,[]},none,<0.438.0>},70000]}},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Queue',declare,3,[{file,"lib/amqp/queue.ex"},{line,45}]},{'Elixir.Websocket.AMQPConsumer',setup_queue,1,[{file,"lib/amqp_consumer.ex"},{line,53}]},{'Elixir.Websocket.AMQPConsumer',init,1,[{file,"lib/amqp_consumer.ex"},{line,19}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,417}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,385}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: ['Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.334.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: false
    status: running
    heap_size: 2586
    stack_size: 28
    reductions: 39699
  neighbours:
2021-04-08 13:33:53 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.332.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,'Elixir.Websocket.AMQPConsumer',{{shutdown,{server_initiated_close,406,<<"PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'websocket_test_queue' in vhost '/': received none but current is the value '' of type 'longstr'">>}},{gen_server,call,[<0.452.0>,{call,{'queue.declare',0,<<"websocket_test_queue">>,false,true,false,false,false,[]},none,<0.438.0>},70000]}}}},{'Elixir.Websocket.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.331.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.333.0>,normal}]
    links: [<0.331.0>,<0.44.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 28
    reductions: 216
  neighbours:
2021-04-08 13:34:11 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    start_error
     Reason:     {{shutdown,{server_initiated_close,406,<<"PRECONDITION_FAILED - inequivalent arg 'durable' for exchange 'websocket_test_exchange' in vhost '/': received 'false' but current is 'true'">>}},{gen_server,call,[<0.452.0>,{call,{'exchange.declare',0,<<"websocket_test_exchange">>,<<"fanout">>,false,false,false,false,false,[]},none,<0.438.0>},70000]}}
     Offender:   [{pid,undefined},{id,'Elixir.Websocket.AMQPConsumer'},{mfargs,{'Elixir.Websocket.AMQPConsumer',start_link,[[]]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2021-04-08 13:34:11 =CRASH REPORT====
  crasher:
    initial call: Elixir.Websocket.AMQPConsumer:init/1
    pid: <0.438.0>
    registered_name: []
    exception exit: {{{shutdown,{server_initiated_close,406,<<"PRECONDITION_FAILED - inequivalent arg 'durable' for exchange 'websocket_test_exchange' in vhost '/': received 'false' but current is 'true'">>}},{gen_server,call,[<0.452.0>,{call,{'exchange.declare',0,<<"websocket_test_exchange">>,<<"fanout">>,false,false,false,false,false,[]},none,<0.438.0>},70000]}},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Exchange',declare,4,[{file,"lib/amqp/exchange.ex"},{line,48}]},{'Elixir.Websocket.AMQPConsumer',setup_queue,1,[{file,"lib/amqp_consumer.ex"},{line,53}]},{'Elixir.Websocket.AMQPConsumer',init,1,[{file,"lib/amqp_consumer.ex"},{line,19}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,417}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,385}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: ['Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.334.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: false
    status: running
    heap_size: 2586
    stack_size: 28
    reductions: 39678
  neighbours:
2021-04-08 13:34:11 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.332.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,'Elixir.Websocket.AMQPConsumer',{{shutdown,{server_initiated_close,406,<<"PRECONDITION_FAILED - inequivalent arg 'durable' for exchange 'websocket_test_exchange' in vhost '/': received 'false' but current is 'true'">>}},{gen_server,call,[<0.452.0>,{call,{'exchange.declare',0,<<"websocket_test_exchange">>,<<"fanout">>,false,false,false,false,false,[]},none,<0.438.0>},70000]}}}},{'Elixir.Websocket.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.331.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.333.0>,normal}]
    links: [<0.331.0>,<0.44.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 28
    reductions: 218
  neighbours:
2021-04-08 13:35:38 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    start_error
     Reason:     {{shutdown,{server_initiated_close,406,<<"PRECONDITION_FAILED - inequivalent arg 'durable' for exchange 'websocket_test_exchange' in vhost '/': received 'false' but current is 'true'">>}},{gen_server,call,[<0.452.0>,{call,{'exchange.declare',0,<<"websocket_test_exchange">>,<<"fanout">>,false,false,false,false,false,[]},none,<0.438.0>},70000]}}
     Offender:   [{pid,undefined},{id,'Elixir.Websocket.AMQPConsumer'},{mfargs,{'Elixir.Websocket.AMQPConsumer',start_link,[[]]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2021-04-08 13:35:38 =CRASH REPORT====
  crasher:
    initial call: Elixir.Websocket.AMQPConsumer:init/1
    pid: <0.438.0>
    registered_name: []
    exception exit: {{{shutdown,{server_initiated_close,406,<<"PRECONDITION_FAILED - inequivalent arg 'durable' for exchange 'websocket_test_exchange' in vhost '/': received 'false' but current is 'true'">>}},{gen_server,call,[<0.452.0>,{call,{'exchange.declare',0,<<"websocket_test_exchange">>,<<"fanout">>,false,false,false,false,false,[]},none,<0.438.0>},70000]}},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Exchange',declare,4,[{file,"lib/amqp/exchange.ex"},{line,48}]},{'Elixir.Websocket.AMQPConsumer',setup_queue,1,[{file,"lib/amqp_consumer.ex"},{line,53}]},{'Elixir.Websocket.AMQPConsumer',init,1,[{file,"lib/amqp_consumer.ex"},{line,19}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,417}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,385}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: ['Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.334.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: false
    status: running
    heap_size: 2586
    stack_size: 28
    reductions: 39678
  neighbours:
2021-04-08 13:35:38 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.332.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,'Elixir.Websocket.AMQPConsumer',{{shutdown,{server_initiated_close,406,<<"PRECONDITION_FAILED - inequivalent arg 'durable' for exchange 'websocket_test_exchange' in vhost '/': received 'false' but current is 'true'">>}},{gen_server,call,[<0.452.0>,{call,{'exchange.declare',0,<<"websocket_test_exchange">>,<<"fanout">>,false,false,false,false,false,[]},none,<0.438.0>},70000]}}}},{'Elixir.Websocket.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.331.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.333.0>,normal}]
    links: [<0.331.0>,<0.44.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 28
    reductions: 218
  neighbours:
2021-04-08 13:35:53 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    start_error
     Reason:     {{shutdown,{server_initiated_close,406,<<"PRECONDITION_FAILED - inequivalent arg 'durable' for exchange 'websocket_test_exchange' in vhost '/': received 'false' but current is 'true'">>}},{gen_server,call,[<0.452.0>,{call,{'exchange.declare',0,<<"websocket_test_exchange">>,<<"fanout">>,false,false,false,false,false,[]},none,<0.438.0>},70000]}}
     Offender:   [{pid,undefined},{id,'Elixir.Websocket.AMQPConsumer'},{mfargs,{'Elixir.Websocket.AMQPConsumer',start_link,[[]]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2021-04-08 13:35:53 =CRASH REPORT====
  crasher:
    initial call: Elixir.Websocket.AMQPConsumer:init/1
    pid: <0.438.0>
    registered_name: []
    exception exit: {{{shutdown,{server_initiated_close,406,<<"PRECONDITION_FAILED - inequivalent arg 'durable' for exchange 'websocket_test_exchange' in vhost '/': received 'false' but current is 'true'">>}},{gen_server,call,[<0.452.0>,{call,{'exchange.declare',0,<<"websocket_test_exchange">>,<<"fanout">>,false,false,false,false,false,[]},none,<0.438.0>},70000]}},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Exchange',declare,4,[{file,"lib/amqp/exchange.ex"},{line,48}]},{'Elixir.Websocket.AMQPConsumer',setup_queue,1,[{file,"lib/amqp_consumer.ex"},{line,53}]},{'Elixir.Websocket.AMQPConsumer',init,1,[{file,"lib/amqp_consumer.ex"},{line,19}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,417}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,385}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: ['Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.334.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: false
    status: running
    heap_size: 2586
    stack_size: 28
    reductions: 39678
  neighbours:
2021-04-08 13:35:53 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.332.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,'Elixir.Websocket.AMQPConsumer',{{shutdown,{server_initiated_close,406,<<"PRECONDITION_FAILED - inequivalent arg 'durable' for exchange 'websocket_test_exchange' in vhost '/': received 'false' but current is 'true'">>}},{gen_server,call,[<0.452.0>,{call,{'exchange.declare',0,<<"websocket_test_exchange">>,<<"fanout">>,false,false,false,false,false,[]},none,<0.438.0>},70000]}}}},{'Elixir.Websocket.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.331.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.333.0>,normal}]
    links: [<0.331.0>,<0.44.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 28
    reductions: 218
  neighbours:
2021-04-08 13:36:32 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    start_error
     Reason:     {{shutdown,{server_initiated_close,406,<<"PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'websocket_test_queue' in vhost '/': received none but current is the value '' of type 'longstr'">>}},{gen_server,call,[<0.452.0>,{call,{'queue.declare',0,<<"websocket_test_queue">>,false,true,false,false,false,[]},none,<0.438.0>},70000]}}
     Offender:   [{pid,undefined},{id,'Elixir.Websocket.AMQPConsumer'},{mfargs,{'Elixir.Websocket.AMQPConsumer',start_link,[[]]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2021-04-08 13:36:32 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.332.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,'Elixir.Websocket.AMQPConsumer',{{shutdown,{server_initiated_close,406,<<"PRECONDITION_FAILED - inequivalent arg 'x-dead-letter-exchange' for queue 'websocket_test_queue' in vhost '/': received none but current is the value '' of type 'longstr'">>}},{gen_server,call,[<0.452.0>,{call,{'queue.declare',0,<<"websocket_test_queue">>,false,true,false,false,false,[]},none,<0.438.0>},70000]}}}},{'Elixir.Websocket.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.331.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.333.0>,normal}]
    links: [<0.331.0>,<0.44.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 28
    reductions: 219
  neighbours:
2021-04-08 13:37:31 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.460.0>
    registered_name: []
    exception exit: {{{{shutdown,{server_initiated_close,406,<<"PRECONDITION_FAILED - inequivalent arg 'durable' for exchange 'websocket_test_exchange' in vhost '/': received 'false' but current is 'true'">>}},{gen_server,call,[<0.472.0>,{call,{'exchange.declare',0,<<"websocket_test_exchange">>,<<"fanout">>,false,false,false,false,false,[]},none,<0.460.0>},70000]}},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Exchange',declare,4,[{file,"lib/amqp/exchange.ex"},{line,48}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,121}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Exchange',declare,4,[{file,"lib/amqp/exchange.ex"},{line,48}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,121}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.459.0>,<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.459.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: false
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 5298
  neighbours:
2021-04-08 13:37:31 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP', connection process <0.459.0>, stream 1 had its request process <0.460.0> exit with reason {{shutdown,{server_initiated_close,406,<<"PRECONDITION_FAILED - inequivalent arg 'durable' for exchange 'websocket_test_exchange' in vhost '/': received 'false' but current is 'true'">>}},{gen_server,call,[<0.472.0>,{call,{'exchange.declare',0,<<"websocket_test_exchange">>,<<"fanout">>,false,false,false,false,false,[]},none,<0.460.0>},70000]}} and stacktrace [{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Exchange',declare,4,[{file,"lib/amqp/exchange.ex"},{line,48}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,121}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
2021-04-08 13:38:49 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.460.0>
    registered_name: []
    exception exit: {{{{shutdown,{server_initiated_close,406,<<"PRECONDITION_FAILED - inequivalent arg 'durable' for exchange 'chatter_test_exchange' in vhost '/': received 'false' but current is 'true'">>}},{gen_server,call,[<0.472.0>,{call,{'exchange.declare',0,<<"chatter_test_exchange">>,<<"fanout">>,false,false,false,false,false,[]},none,<0.460.0>},70000]}},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Exchange',declare,4,[{file,"lib/amqp/exchange.ex"},{line,48}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,121}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Exchange',declare,4,[{file,"lib/amqp/exchange.ex"},{line,48}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,121}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.459.0>,<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.459.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: false
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 5254
  neighbours:
2021-04-08 13:38:49 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP', connection process <0.459.0>, stream 1 had its request process <0.460.0> exit with reason {{shutdown,{server_initiated_close,406,<<"PRECONDITION_FAILED - inequivalent arg 'durable' for exchange 'chatter_test_exchange' in vhost '/': received 'false' but current is 'true'">>}},{gen_server,call,[<0.472.0>,{call,{'exchange.declare',0,<<"chatter_test_exchange">>,<<"fanout">>,false,false,false,false,false,[]},none,<0.460.0>},70000]}} and stacktrace [{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Exchange',declare,4,[{file,"lib/amqp/exchange.ex"},{line,48}]},{'Elixir.Websocket.SocketHandler',setup_queue,1,[{file,"lib/websocket/socket_handler.ex"},{line,121}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
2021-04-08 13:40:04 =ERROR REPORT====
** Generic server <0.471.0> terminating
** Last message in was {consumer_call,{'basic.deliver',<<"amq.ctag-CHwEeTDQ_-rFAW_v_WkyHA">>,1,false,<<"chatter_test_exchange">>,<<>>},{amqp_msg,{'P_basic',undefined,undefined,undefined,1,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined},<<"blah blah blah">>}}
** When Server state == {state,amqp_selective_consumer,{state,#{},undefined,#{},none}}
** Reason for termination == 
** unexpected_delivery_and_no_default_consumer
2021-04-08 13:40:04 =CRASH REPORT====
  crasher:
    initial call: amqp_gen_consumer:init/1
    pid: <0.471.0>
    registered_name: []
    exception exit: {unexpected_delivery_and_no_default_consumer,[{gen_server2,terminate,3,[{file,"/home/arthur/code/websocket/deps/rabbit_common/src/gen_server2.erl"},{line,1183}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.470.0>,<0.464.0>,<0.462.0>,<0.461.0>,amqp_sup,<0.324.0>]
    message_queue_len: 0
    messages: []
    links: [<0.470.0>]
    dictionary: [{process_name,{amqp_gen_consumer,{<<"client 127.0.0.1:33421 -> 127.0.0.1:5672">>,1}}}]
    trap_exit: false
    status: running
    heap_size: 2586
    stack_size: 28
    reductions: 4353
  neighbours:
2021-04-08 13:40:04 =SUPERVISOR REPORT====
     Supervisor: {<0.470.0>,amqp_channel_sup}
     Context:    child_terminated
     Reason:     unexpected_delivery_and_no_default_consumer
     Offender:   [{pid,<0.471.0>},{id,gen_consumer},{mfargs,{amqp_gen_consumer,start_link,[amqp_selective_consumer,[],{<<"client 127.0.0.1:33421 -> 127.0.0.1:5672">>,1}]}},{restart_type,intrinsic},{shutdown,30000},{child_type,worker}]

2021-04-08 13:40:04 =SUPERVISOR REPORT====
     Supervisor: {<0.470.0>,amqp_channel_sup}
     Context:    shutdown
     Reason:     reached_max_restart_intensity
     Offender:   [{pid,<0.471.0>},{id,gen_consumer},{mfargs,{amqp_gen_consumer,start_link,[amqp_selective_consumer,[],{<<"client 127.0.0.1:33421 -> 127.0.0.1:5672">>,1}]}},{restart_type,intrinsic},{shutdown,30000},{child_type,worker}]

2021-04-08 13:40:12 =CRASH REPORT====
  crasher:
    initial call: cowboy_clear:connection_process/4
    pid: <0.459.0>
    registered_name: []
    exception exit: {{noproc,{gen_server,call,[<0.472.0>,{call,{'basic.publish',0,<<"chatter_test_exchange">>,<<>>,false,false},{amqp_msg,{'P_basic',undefined,undefined,undefined,1,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined},<<"blah blah blah">>},<0.459.0>},70000]}},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Basic',publish,5,[{file,"lib/amqp/basic.ex"},{line,86}]},{'Elixir.Websocket.SocketHandler',websocket_handle,2,[{file,"lib/websocket/socket_handler.ex"},{line,89}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,528}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.456.0>,#Port<0.9>,<0.336.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: true
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 7795
  neighbours:
2021-04-08 13:40:12 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP' had connection process started with cowboy_clear:start_link/4 at <0.459.0> exit with reason: {noproc,{gen_server,call,[<0.472.0>,{call,{'basic.publish',0,<<"chatter_test_exchange">>,<<>>,false,false},{amqp_msg,{'P_basic',undefined,undefined,undefined,1,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined},<<"blah blah blah">>},<0.459.0>},70000]}}
2021-04-08 13:41:28 =ERROR REPORT====
** Generic server <0.487.0> terminating
** Last message in was {consumer_call,{'basic.deliver',<<"amq.ctag-A2fxMDLePdf-BS-Hzhw2yw">>,1,false,<<"chatter_test_exchange">>,<<>>},{amqp_msg,{'P_basic',undefined,undefined,undefined,1,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined},<<"blah blah blah">>}}
** When Server state == {state,amqp_selective_consumer,{state,#{},undefined,#{},none}}
** Reason for termination == 
** unexpected_delivery_and_no_default_consumer
2021-04-08 13:41:28 =CRASH REPORT====
  crasher:
    initial call: amqp_gen_consumer:init/1
    pid: <0.487.0>
    registered_name: []
    exception exit: {unexpected_delivery_and_no_default_consumer,[{gen_server2,terminate,3,[{file,"/home/arthur/code/websocket/deps/rabbit_common/src/gen_server2.erl"},{line,1183}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.486.0>,<0.480.0>,<0.478.0>,<0.477.0>,amqp_sup,<0.324.0>]
    message_queue_len: 0
    messages: []
    links: [<0.486.0>]
    dictionary: [{process_name,{amqp_gen_consumer,{<<"client 127.0.0.1:53241 -> 127.0.0.1:5672">>,1}}}]
    trap_exit: false
    status: running
    heap_size: 2586
    stack_size: 28
    reductions: 4188
  neighbours:
2021-04-08 13:41:28 =ERROR REPORT====
** Generic server <0.488.0> terminating 
** Last message in was {'$gen_cast',{method,{'basic.deliver',<<"amq.ctag-A2fxMDLePdf-BS-Hzhw2yw">>,1,false,<<"chatter_test_exchange">>,<<>>},{content,60,none,<<16,0,1>>,rabbit_framing_amqp_0_9_1,[<<"blah blah blah">>]},noflow}}
** When Server state == {state,1,<0.479.0>,<0.487.0>,network,{[],[]},false,<0.489.0>,none,none,0,true,none,{0,nil},{0,nil},true,false}
** Reason for termination ==
** {{unexpected_delivery_and_no_default_consumer,{gen_server2,call,[<0.487.0>,{consumer_call,{'basic.deliver',<<"amq.ctag-A2fxMDLePdf-BS-Hzhw2yw">>,1,false,<<"chatter_test_exchange">>,<<>>},{amqp_msg,{'P_basic',undefined,undefined,undefined,1,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined},<<"blah blah blah">>}},70000]}},[{gen_server2,call,3,[{file,"/home/arthur/code/websocket/deps/rabbit_common/src/gen_server2.erl"},{line,346}]},{amqp_channel,handle_method_from_server1,3,[{file,"/home/arthur/code/websocket/deps/amqp_client/src/amqp_channel.erl"},{line,762}]},{gen_server,try_dispatch,4,[{file,"gen_server.erl"},{line,689}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,765}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-08 13:41:28 =SUPERVISOR REPORT====
     Supervisor: {<0.486.0>,amqp_channel_sup}
     Context:    child_terminated
     Reason:     unexpected_delivery_and_no_default_consumer
     Offender:   [{pid,<0.487.0>},{id,gen_consumer},{mfargs,{amqp_gen_consumer,start_link,[amqp_selective_consumer,[],{<<"client 127.0.0.1:53241 -> 127.0.0.1:5672">>,1}]}},{restart_type,intrinsic},{shutdown,30000},{child_type,worker}]

2021-04-08 13:41:28 =SUPERVISOR REPORT====
     Supervisor: {<0.486.0>,amqp_channel_sup}
     Context:    shutdown
     Reason:     reached_max_restart_intensity
     Offender:   [{pid,<0.487.0>},{id,gen_consumer},{mfargs,{amqp_gen_consumer,start_link,[amqp_selective_consumer,[],{<<"client 127.0.0.1:53241 -> 127.0.0.1:5672">>,1}]}},{restart_type,intrinsic},{shutdown,30000},{child_type,worker}]

2021-04-08 13:43:38 =ERROR REPORT====
** Generic server <0.456.0> terminating
** Last message in was {consumer_call,{'basic.deliver',<<"amq.ctag-WraZizYsYNhRTskKlfYyvg">>,1,false,<<"chatter_test_exchange">>,<<>>},{amqp_msg,{'P_basic',undefined,undefined,undefined,1,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined},<<"blah blah blah">>}}
** When Server state == {state,amqp_selective_consumer,{state,#{},undefined,#{},none}}
** Reason for termination == 
** unexpected_delivery_and_no_default_consumer
2021-04-08 13:43:38 =CRASH REPORT====
  crasher:
    initial call: amqp_gen_consumer:init/1
    pid: <0.456.0>
    registered_name: []
    exception exit: {unexpected_delivery_and_no_default_consumer,[{gen_server2,terminate,3,[{file,"/home/arthur/code/websocket/deps/rabbit_common/src/gen_server2.erl"},{line,1183}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.455.0>,<0.449.0>,<0.447.0>,<0.446.0>,amqp_sup,<0.309.0>]
    message_queue_len: 0
    messages: []
    links: [<0.455.0>]
    dictionary: [{process_name,{amqp_gen_consumer,{<<"client 127.0.0.1:50235 -> 127.0.0.1:5672">>,1}}}]
    trap_exit: false
    status: running
    heap_size: 2586
    stack_size: 28
    reductions: 4353
  neighbours:
2021-04-08 13:43:38 =SUPERVISOR REPORT====
     Supervisor: {<0.455.0>,amqp_channel_sup}
     Context:    child_terminated
     Reason:     unexpected_delivery_and_no_default_consumer
     Offender:   [{pid,<0.456.0>},{id,gen_consumer},{mfargs,{amqp_gen_consumer,start_link,[amqp_selective_consumer,[],{<<"client 127.0.0.1:50235 -> 127.0.0.1:5672">>,1}]}},{restart_type,intrinsic},{shutdown,30000},{child_type,worker}]

2021-04-08 13:43:38 =SUPERVISOR REPORT====
     Supervisor: {<0.455.0>,amqp_channel_sup}
     Context:    shutdown
     Reason:     reached_max_restart_intensity
     Offender:   [{pid,<0.456.0>},{id,gen_consumer},{mfargs,{amqp_gen_consumer,start_link,[amqp_selective_consumer,[],{<<"client 127.0.0.1:50235 -> 127.0.0.1:5672">>,1}]}},{restart_type,intrinsic},{shutdown,30000},{child_type,worker}]

2021-04-08 13:44:26 =CRASH REPORT====
  crasher:
    initial call: cowboy_clear:connection_process/4
    pid: <0.444.0>
    registered_name: []
    exception exit: {{noproc,{gen_server,call,[<0.457.0>,{call,{'basic.publish',0,<<"chatter_test_exchange">>,<<>>,false,false},{amqp_msg,{'P_basic',undefined,undefined,undefined,1,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined},<<"blah blah blah">>},<0.444.0>},70000]}},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Basic',publish,5,[{file,"lib/amqp/basic.ex"},{line,86}]},{'Elixir.Websocket.SocketHandler',websocket_handle,2,[{file,"lib/websocket/socket_handler.ex"},{line,89}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,528}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.321.0>,<0.320.0>,'Elixir.Websocket.Supervisor',<0.318.0>]
    message_queue_len: 0
    messages: []
    links: [<0.441.0>,#Port<0.9>,<0.321.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: true
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 7792
  neighbours:
2021-04-08 13:44:26 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP' had connection process started with cowboy_clear:start_link/4 at <0.444.0> exit with reason: {noproc,{gen_server,call,[<0.457.0>,{call,{'basic.publish',0,<<"chatter_test_exchange">>,<<>>,false,false},{amqp_msg,{'P_basic',undefined,undefined,undefined,1,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined},<<"blah blah blah">>},<0.444.0>},70000]}}
2021-04-08 13:48:22 =ERROR REPORT====
** Generic server <0.457.0> terminating
** Last message in was {consumer_call,{'basic.deliver',<<"amq.ctag-xE3RBeuw1US8Izp3Rlkoyg">>,1,false,<<"chatter_test_exchange">>,<<>>},{amqp_msg,{'P_basic',undefined,undefined,undefined,1,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined},<<"blah blah blah">>}}
** When Server state == {state,amqp_selective_consumer,{state,#{},undefined,#{},none}}
** Reason for termination == 
** unexpected_delivery_and_no_default_consumer
2021-04-08 13:48:22 =CRASH REPORT====
  crasher:
    initial call: amqp_gen_consumer:init/1
    pid: <0.457.0>
    registered_name: []
    exception exit: {unexpected_delivery_and_no_default_consumer,[{gen_server2,terminate,3,[{file,"/home/arthur/code/websocket/deps/rabbit_common/src/gen_server2.erl"},{line,1183}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.456.0>,<0.450.0>,<0.448.0>,<0.447.0>,amqp_sup,<0.309.0>]
    message_queue_len: 0
    messages: []
    links: [<0.456.0>]
    dictionary: [{process_name,{amqp_gen_consumer,{<<"client 127.0.0.1:55921 -> 127.0.0.1:5672">>,1}}}]
    trap_exit: false
    status: running
    heap_size: 2586
    stack_size: 28
    reductions: 4353
  neighbours:
2021-04-08 13:48:22 =SUPERVISOR REPORT====
     Supervisor: {<0.456.0>,amqp_channel_sup}
     Context:    child_terminated
     Reason:     unexpected_delivery_and_no_default_consumer
     Offender:   [{pid,<0.457.0>},{id,gen_consumer},{mfargs,{amqp_gen_consumer,start_link,[amqp_selective_consumer,[],{<<"client 127.0.0.1:55921 -> 127.0.0.1:5672">>,1}]}},{restart_type,intrinsic},{shutdown,30000},{child_type,worker}]

2021-04-08 13:48:22 =SUPERVISOR REPORT====
     Supervisor: {<0.456.0>,amqp_channel_sup}
     Context:    shutdown
     Reason:     reached_max_restart_intensity
     Offender:   [{pid,<0.457.0>},{id,gen_consumer},{mfargs,{amqp_gen_consumer,start_link,[amqp_selective_consumer,[],{<<"client 127.0.0.1:55921 -> 127.0.0.1:5672">>,1}]}},{restart_type,intrinsic},{shutdown,30000},{child_type,worker}]

2021-04-08 13:50:07 =CRASH REPORT====
  crasher:
    initial call: cowboy_clear:connection_process/4
    pid: <0.459.0>
    registered_name: []
    exception error: {{try_clause,{noreply,#{channel => #{'__struct__' => 'Elixir.AMQP.Channel',conn => #{'__struct__' => 'Elixir.AMQP.Connection',pid => <0.463.0>},custom_consumer => nil,pid => <0.472.0>},registry_key => <<"/ws/chat">>}}},[{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,526}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.456.0>,#Port<0.9>,<0.336.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 4543
  neighbours:
2021-04-08 13:50:07 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP' had connection process started with cowboy_clear:start_link/4 at <0.459.0> exit with reason: {{try_clause,{noreply,#{channel => #{'__struct__' => 'Elixir.AMQP.Channel',conn => #{'__struct__' => 'Elixir.AMQP.Connection',pid => <0.463.0>},custom_consumer => nil,pid => <0.472.0>},registry_key => <<"/ws/chat">>}}},[{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,526}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-08 13:50:22 =CRASH REPORT====
  crasher:
    initial call: cowboy_clear:connection_process/4
    pid: <0.459.0>
    registered_name: []
    exception error: {{try_clause,{noreply,#{channel => #{'__struct__' => 'Elixir.AMQP.Channel',conn => #{'__struct__' => 'Elixir.AMQP.Connection',pid => <0.463.0>},custom_consumer => nil,pid => <0.472.0>},registry_key => <<"/ws/chat">>}}},[{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,526}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.456.0>,#Port<0.9>,<0.336.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 4543
  neighbours:
2021-04-08 13:50:22 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP' had connection process started with cowboy_clear:start_link/4 at <0.459.0> exit with reason: {{try_clause,{noreply,#{channel => #{'__struct__' => 'Elixir.AMQP.Channel',conn => #{'__struct__' => 'Elixir.AMQP.Connection',pid => <0.463.0>},custom_consumer => nil,pid => <0.472.0>},registry_key => <<"/ws/chat">>}}},[{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,526}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-08 13:50:25 =CRASH REPORT====
  crasher:
    initial call: cowboy_clear:connection_process/4
    pid: <0.475.0>
    registered_name: []
    exception error: {{try_clause,{noreply,#{channel => #{'__struct__' => 'Elixir.AMQP.Channel',conn => #{'__struct__' => 'Elixir.AMQP.Connection',pid => <0.479.0>},custom_consumer => nil,pid => <0.488.0>},registry_key => <<"/ws/chat">>}}},[{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,526}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.456.0>,#Port<0.11>,<0.336.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 4262
  neighbours:
2021-04-08 13:50:25 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP' had connection process started with cowboy_clear:start_link/4 at <0.475.0> exit with reason: {{try_clause,{noreply,#{channel => #{'__struct__' => 'Elixir.AMQP.Channel',conn => #{'__struct__' => 'Elixir.AMQP.Connection',pid => <0.479.0>},custom_consumer => nil,pid => <0.488.0>},registry_key => <<"/ws/chat">>}}},[{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,526}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-08 13:50:31 =CRASH REPORT====
  crasher:
    initial call: cowboy_clear:connection_process/4
    pid: <0.491.0>
    registered_name: []
    exception error: {{try_clause,{noreply,#{channel => #{'__struct__' => 'Elixir.AMQP.Channel',conn => #{'__struct__' => 'Elixir.AMQP.Connection',pid => <0.495.0>},custom_consumer => nil,pid => <0.504.0>},registry_key => <<"/ws/chat">>}}},[{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,526}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.456.0>,#Port<0.13>,<0.336.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 4258
  neighbours:
2021-04-08 13:50:31 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP' had connection process started with cowboy_clear:start_link/4 at <0.491.0> exit with reason: {{try_clause,{noreply,#{channel => #{'__struct__' => 'Elixir.AMQP.Channel',conn => #{'__struct__' => 'Elixir.AMQP.Connection',pid => <0.495.0>},custom_consumer => nil,pid => <0.504.0>},registry_key => <<"/ws/chat">>}}},[{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,526}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-08 13:50:45 =CRASH REPORT====
  crasher:
    initial call: cowboy_clear:connection_process/4
    pid: <0.507.0>
    registered_name: []
    exception error: {{try_clause,{noreply,#{channel => #{'__struct__' => 'Elixir.AMQP.Channel',conn => #{'__struct__' => 'Elixir.AMQP.Connection',pid => <0.511.0>},custom_consumer => nil,pid => <0.520.0>},registry_key => <<"/ws/chat">>}}},[{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,526}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.456.0>,#Port<0.15>,<0.336.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 4262
  neighbours:
2021-04-08 13:50:45 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP' had connection process started with cowboy_clear:start_link/4 at <0.507.0> exit with reason: {{try_clause,{noreply,#{channel => #{'__struct__' => 'Elixir.AMQP.Channel',conn => #{'__struct__' => 'Elixir.AMQP.Connection',pid => <0.511.0>},custom_consumer => nil,pid => <0.520.0>},registry_key => <<"/ws/chat">>}}},[{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,526}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-08 13:53:15 =ERROR REPORT====
** Generic server <0.471.0> terminating
** Last message in was {consumer_call,{'basic.deliver',<<"amq.ctag-V0OI4CVhulnCBfZxbtsS7Q">>,1,false,<<"chatter_test_exchange">>,<<>>},{amqp_msg,{'P_basic',undefined,undefined,undefined,1,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined},<<"fuck you">>}}
** When Server state == {state,amqp_selective_consumer,{state,#{},undefined,#{},none}}
** Reason for termination == 
** unexpected_delivery_and_no_default_consumer
2021-04-08 13:53:15 =CRASH REPORT====
  crasher:
    initial call: amqp_gen_consumer:init/1
    pid: <0.471.0>
    registered_name: []
    exception exit: {unexpected_delivery_and_no_default_consumer,[{gen_server2,terminate,3,[{file,"/home/arthur/code/websocket/deps/rabbit_common/src/gen_server2.erl"},{line,1183}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.470.0>,<0.464.0>,<0.462.0>,<0.461.0>,amqp_sup,<0.324.0>]
    message_queue_len: 0
    messages: []
    links: [<0.470.0>]
    dictionary: [{process_name,{amqp_gen_consumer,{<<"client 127.0.0.1:46409 -> 127.0.0.1:5672">>,1}}}]
    trap_exit: false
    status: running
    heap_size: 2586
    stack_size: 28
    reductions: 4291
  neighbours:
2021-04-08 13:53:15 =SUPERVISOR REPORT====
     Supervisor: {<0.470.0>,amqp_channel_sup}
     Context:    child_terminated
     Reason:     unexpected_delivery_and_no_default_consumer
     Offender:   [{pid,<0.471.0>},{id,gen_consumer},{mfargs,{amqp_gen_consumer,start_link,[amqp_selective_consumer,[],{<<"client 127.0.0.1:46409 -> 127.0.0.1:5672">>,1}]}},{restart_type,intrinsic},{shutdown,30000},{child_type,worker}]

2021-04-08 13:53:15 =SUPERVISOR REPORT====
     Supervisor: {<0.470.0>,amqp_channel_sup}
     Context:    shutdown
     Reason:     reached_max_restart_intensity
     Offender:   [{pid,<0.471.0>},{id,gen_consumer},{mfargs,{amqp_gen_consumer,start_link,[amqp_selective_consumer,[],{<<"client 127.0.0.1:46409 -> 127.0.0.1:5672">>,1}]}},{restart_type,intrinsic},{shutdown,30000},{child_type,worker}]

2021-04-08 14:04:42 =ERROR REPORT====
** Generic server <0.471.0> terminating
** Last message in was {consumer_call,{'basic.deliver',<<"amq.ctag-xA_l61B6jkdFAZesppf-pQ">>,1,false,<<"chatter_test_exchange">>,<<>>},{amqp_msg,{'P_basic',undefined,undefined,undefined,1,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined},<<"blah blah blah">>}}
** When Server state == {state,amqp_selective_consumer,{state,#{},undefined,#{},none}}
** Reason for termination == 
** unexpected_delivery_and_no_default_consumer
2021-04-08 14:04:42 =CRASH REPORT====
  crasher:
    initial call: amqp_gen_consumer:init/1
    pid: <0.471.0>
    registered_name: []
    exception exit: {unexpected_delivery_and_no_default_consumer,[{gen_server2,terminate,3,[{file,"/home/arthur/code/websocket/deps/rabbit_common/src/gen_server2.erl"},{line,1183}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.470.0>,<0.464.0>,<0.462.0>,<0.461.0>,amqp_sup,<0.324.0>]
    message_queue_len: 0
    messages: []
    links: [<0.470.0>]
    dictionary: [{process_name,{amqp_gen_consumer,{<<"client 127.0.0.1:38355 -> 127.0.0.1:5672">>,1}}}]
    trap_exit: false
    status: running
    heap_size: 2586
    stack_size: 28
    reductions: 4353
  neighbours:
2021-04-08 14:04:42 =SUPERVISOR REPORT====
     Supervisor: {<0.470.0>,amqp_channel_sup}
     Context:    child_terminated
     Reason:     unexpected_delivery_and_no_default_consumer
     Offender:   [{pid,<0.471.0>},{id,gen_consumer},{mfargs,{amqp_gen_consumer,start_link,[amqp_selective_consumer,[],{<<"client 127.0.0.1:38355 -> 127.0.0.1:5672">>,1}]}},{restart_type,intrinsic},{shutdown,30000},{child_type,worker}]

2021-04-08 14:04:42 =SUPERVISOR REPORT====
     Supervisor: {<0.470.0>,amqp_channel_sup}
     Context:    shutdown
     Reason:     reached_max_restart_intensity
     Offender:   [{pid,<0.471.0>},{id,gen_consumer},{mfargs,{amqp_gen_consumer,start_link,[amqp_selective_consumer,[],{<<"client 127.0.0.1:38355 -> 127.0.0.1:5672">>,1}]}},{restart_type,intrinsic},{shutdown,30000},{child_type,worker}]

2021-04-08 14:26:47 =CRASH REPORT====
  crasher:
    initial call: cowboy_clear:connection_process/4
    pid: <0.459.0>
    registered_name: []
    exception error: {#{'__exception__' => true,'__struct__' => 'Elixir.Poison.EncodeError',message => nil,value => <0.459.0>},[{'Elixir.Poison.Encoder.Any',encode,2,[{file,"lib/poison/encoder.ex"},{line,383}]},{'Elixir.Poison.Encoder.Map','-encode/3-fun-1-',4,[{file,"lib/poison/encoder.ex"},{line,227}]},{'Elixir.Poison.Encoder.Map','-encode/3-lists^foldl/2-0-',3,[{file,"lib/poison/encoder.ex"},{line,228}]},{'Elixir.Poison.Encoder.Map',encode,3,[{file,"lib/poison/encoder.ex"},{line,228}]},{'Elixir.Poison','encode!',2,[{file,"lib/poison.ex"},{line,41}]},{'Elixir.Websocket.SocketHandler',websocket_handle,2,[{file,"lib/websocket/socket_handler.ex"},{line,98}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,528}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]}]}
    ancestors: [<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.456.0>,#Port<0.9>,<0.336.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: true
    status: running
    heap_size: 987
    stack_size: 28
    reductions: 4515
  neighbours:
2021-04-08 14:26:47 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP' had connection process started with cowboy_clear:start_link/4 at <0.459.0> exit with reason: {#{'__exception__' => true,'__struct__' => 'Elixir.Poison.EncodeError',message => nil,value => <0.459.0>},[{'Elixir.Poison.Encoder.Any',encode,2,[{file,"lib/poison/encoder.ex"},{line,383}]},{'Elixir.Poison.Encoder.Map','-encode/3-fun-1-',4,[{file,"lib/poison/encoder.ex"},{line,227}]},{'Elixir.Poison.Encoder.Map','-encode/3-lists^foldl/2-0-',3,[{file,"lib/poison/encoder.ex"},{line,228}]},{'Elixir.Poison.Encoder.Map',encode,3,[{file,"lib/poison/encoder.ex"},{line,228}]},{'Elixir.Poison','encode!',2,[{file,"lib/poison.ex"},{line,41}]},{'Elixir.Websocket.SocketHandler',websocket_handle,2,[{file,"lib/websocket/socket_handler.ex"},{line,98}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,528}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]}]}
2021-04-08 14:36:42 =ERROR REPORT====
** Generic server <0.438.0> terminating 
** Last message in was {basic_deliver,<<"{\"registry_key\":\"/ws/chat\",\"message\":\"Hello server!\"}">>,#{app_id => undefined,cluster_id => undefined,consumer_tag => <<"amq.ctag-l9NSl1wI1v1md9SoWy5uGA">>,content_encoding => undefined,content_type => undefined,correlation_id => undefined,delivery_tag => 1,exchange => <<"chatter_test_exchange">>,expiration => undefined,headers => undefined,message_id => undefined,persistent => false,priority => undefined,redelivered => false,reply_to => undefined,routing_key => <<>>,timestamp => undefined,type => undefined,user_id => undefined}}
** When Server state == #{'__struct__' => 'Elixir.AMQP.Channel',conn => #{'__struct__' => 'Elixir.AMQP.Connection',pid => <0.441.0>},custom_consumer => nil,pid => <0.452.0>}
** Reason for termination ==
** {{badkey,registry_key,#{<<"message">> => <<"Hello server!">>,<<"registry_key">> => <<"/ws/chat">>}},[{'Elixir.Websocket.AMQPConsumer',handle_info,2,[{file,"lib/amqp_consumer.ex"},{line,54}]},{gen_server,try_dispatch,4,[{file,"gen_server.erl"},{line,689}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,765}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-08 14:36:42 =CRASH REPORT====
  crasher:
    initial call: Elixir.Websocket.AMQPConsumer:init/1
    pid: <0.438.0>
    registered_name: []
    exception error: {{badkey,registry_key,#{<<"message">> => <<"Hello server!">>,<<"registry_key">> => <<"/ws/chat">>}},[{'Elixir.Websocket.AMQPConsumer',handle_info,2,[{file,"lib/amqp_consumer.ex"},{line,54}]},{gen_server,try_dispatch,4,[{file,"gen_server.erl"},{line,689}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,765}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: ['Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.334.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: false
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 47897
  neighbours:
2021-04-08 14:36:42 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    child_terminated
     Reason:     {{badkey,registry_key,#{<<"message">> => <<"Hello server!">>,<<"registry_key">> => <<"/ws/chat">>}},[{'Elixir.Websocket.AMQPConsumer',handle_info,2,[{file,"lib/amqp_consumer.ex"},{line,54}]},{gen_server,try_dispatch,4,[{file,"gen_server.erl"},{line,689}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,765}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
     Offender:   [{pid,<0.438.0>},{id,'Elixir.Websocket.AMQPConsumer'},{mfargs,{'Elixir.Websocket.AMQPConsumer',start_link,[[]]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2021-04-08 14:37:06 =ERROR REPORT====
** Generic server <0.438.0> terminating 
** Last message in was {basic_deliver,<<"{\"registry_key\":\"/ws/chat\",\"message\":\"Hello server!\"}">>,#{app_id => undefined,cluster_id => undefined,consumer_tag => <<"amq.ctag-6AK4ye0dZ8uMAcIYtnVQkA">>,content_encoding => undefined,content_type => undefined,correlation_id => undefined,delivery_tag => 1,exchange => <<"chatter_test_exchange">>,expiration => undefined,headers => undefined,message_id => undefined,persistent => false,priority => undefined,redelivered => false,reply_to => undefined,routing_key => <<>>,timestamp => undefined,type => undefined,user_id => undefined}}
** When Server state == #{'__struct__' => 'Elixir.AMQP.Channel',conn => #{'__struct__' => 'Elixir.AMQP.Connection',pid => <0.441.0>},custom_consumer => nil,pid => <0.452.0>}
** Reason for termination ==
** {{badkey,registry_key,#{<<"message">> => <<"Hello server!">>,<<"registry_key">> => <<"/ws/chat">>}},[{'Elixir.Websocket.AMQPConsumer',handle_info,2,[{file,"lib/amqp_consumer.ex"},{line,55}]},{gen_server,try_dispatch,4,[{file,"gen_server.erl"},{line,689}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,765}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-08 14:37:06 =CRASH REPORT====
  crasher:
    initial call: Elixir.Websocket.AMQPConsumer:init/1
    pid: <0.438.0>
    registered_name: []
    exception error: {{badkey,registry_key,#{<<"message">> => <<"Hello server!">>,<<"registry_key">> => <<"/ws/chat">>}},[{'Elixir.Websocket.AMQPConsumer',handle_info,2,[{file,"lib/amqp_consumer.ex"},{line,55}]},{gen_server,try_dispatch,4,[{file,"gen_server.erl"},{line,689}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,765}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: ['Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.334.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: false
    status: running
    heap_size: 2586
    stack_size: 28
    reductions: 48412
  neighbours:
2021-04-08 14:37:06 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    child_terminated
     Reason:     {{badkey,registry_key,#{<<"message">> => <<"Hello server!">>,<<"registry_key">> => <<"/ws/chat">>}},[{'Elixir.Websocket.AMQPConsumer',handle_info,2,[{file,"lib/amqp_consumer.ex"},{line,55}]},{gen_server,try_dispatch,4,[{file,"gen_server.erl"},{line,689}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,765}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
     Offender:   [{pid,<0.438.0>},{id,'Elixir.Websocket.AMQPConsumer'},{mfargs,{'Elixir.Websocket.AMQPConsumer',start_link,[[]]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2021-04-08 14:38:00 =ERROR REPORT====
** Generic server <0.438.0> terminating 
** Last message in was {basic_deliver,<<"{\"registry_key\":\"/ws/chat\",\"message\":\"Hello server!\"}">>,#{app_id => undefined,cluster_id => undefined,consumer_tag => <<"amq.ctag-Ojib1fWtGB7Pun08imTjuA">>,content_encoding => undefined,content_type => undefined,correlation_id => undefined,delivery_tag => 1,exchange => <<"chatter_test_exchange">>,expiration => undefined,headers => undefined,message_id => undefined,persistent => false,priority => undefined,redelivered => false,reply_to => undefined,routing_key => <<>>,timestamp => undefined,type => undefined,user_id => undefined}}
** When Server state == #{'__struct__' => 'Elixir.AMQP.Channel',conn => #{'__struct__' => 'Elixir.AMQP.Connection',pid => <0.441.0>},custom_consumer => nil,pid => <0.452.0>}
** Reason for termination ==
** {{badkey,registry_key,#{<<"message">> => <<"Hello server!">>,<<"registry_key">> => <<"/ws/chat">>}},[{'Elixir.Websocket.AMQPConsumer',handle_info,2,[{file,"lib/amqp_consumer.ex"},{line,56}]},{gen_server,try_dispatch,4,[{file,"gen_server.erl"},{line,689}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,765}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-08 14:38:00 =CRASH REPORT====
  crasher:
    initial call: Elixir.Websocket.AMQPConsumer:init/1
    pid: <0.438.0>
    registered_name: []
    exception error: {{badkey,registry_key,#{<<"message">> => <<"Hello server!">>,<<"registry_key">> => <<"/ws/chat">>}},[{'Elixir.Websocket.AMQPConsumer',handle_info,2,[{file,"lib/amqp_consumer.ex"},{line,56}]},{gen_server,try_dispatch,4,[{file,"gen_server.erl"},{line,689}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,765}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: ['Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.334.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: false
    status: running
    heap_size: 2586
    stack_size: 28
    reductions: 48392
  neighbours:
2021-04-08 14:38:00 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    child_terminated
     Reason:     {{badkey,registry_key,#{<<"message">> => <<"Hello server!">>,<<"registry_key">> => <<"/ws/chat">>}},[{'Elixir.Websocket.AMQPConsumer',handle_info,2,[{file,"lib/amqp_consumer.ex"},{line,56}]},{gen_server,try_dispatch,4,[{file,"gen_server.erl"},{line,689}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,765}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
     Offender:   [{pid,<0.438.0>},{id,'Elixir.Websocket.AMQPConsumer'},{mfargs,{'Elixir.Websocket.AMQPConsumer',start_link,[[]]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2021-04-08 14:39:06 =ERROR REPORT====
** Generic server <0.438.0> terminating 
** Last message in was {basic_deliver,<<"{\"registry_key\":\"/ws/chat\",\"message\":\"Hello server!\"}">>,#{app_id => undefined,cluster_id => undefined,consumer_tag => <<"amq.ctag-G2lGDPCC9-kYjRJj6XcAcg">>,content_encoding => undefined,content_type => undefined,correlation_id => undefined,delivery_tag => 1,exchange => <<"chatter_test_exchange">>,expiration => undefined,headers => undefined,message_id => undefined,persistent => false,priority => undefined,redelivered => false,reply_to => undefined,routing_key => <<>>,timestamp => undefined,type => undefined,user_id => undefined}}
** When Server state == #{'__struct__' => 'Elixir.AMQP.Channel',conn => #{'__struct__' => 'Elixir.AMQP.Connection',pid => <0.441.0>},custom_consumer => nil,pid => <0.452.0>}
** Reason for termination ==
** {{badkey,registry_key,#{<<"message">> => <<"Hello server!">>,<<"registry_key">> => <<"/ws/chat">>}},[{'Elixir.Websocket.AMQPConsumer',handle_info,2,[{file,"lib/amqp_consumer.ex"},{line,54}]},{gen_server,try_dispatch,4,[{file,"gen_server.erl"},{line,689}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,765}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-08 14:39:06 =CRASH REPORT====
  crasher:
    initial call: Elixir.Websocket.AMQPConsumer:init/1
    pid: <0.438.0>
    registered_name: []
    exception error: {{badkey,registry_key,#{<<"message">> => <<"Hello server!">>,<<"registry_key">> => <<"/ws/chat">>}},[{'Elixir.Websocket.AMQPConsumer',handle_info,2,[{file,"lib/amqp_consumer.ex"},{line,54}]},{gen_server,try_dispatch,4,[{file,"gen_server.erl"},{line,689}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,765}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: ['Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.334.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: false
    status: running
    heap_size: 2586
    stack_size: 28
    reductions: 48405
  neighbours:
2021-04-08 14:39:06 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    child_terminated
     Reason:     {{badkey,registry_key,#{<<"message">> => <<"Hello server!">>,<<"registry_key">> => <<"/ws/chat">>}},[{'Elixir.Websocket.AMQPConsumer',handle_info,2,[{file,"lib/amqp_consumer.ex"},{line,54}]},{gen_server,try_dispatch,4,[{file,"gen_server.erl"},{line,689}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,765}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
     Offender:   [{pid,<0.438.0>},{id,'Elixir.Websocket.AMQPConsumer'},{mfargs,{'Elixir.Websocket.AMQPConsumer',start_link,[[]]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2021-04-08 14:42:56 =CRASH REPORT====
  crasher:
    initial call: cowboy_clear:connection_process/4
    pid: <0.465.0>
    registered_name: []
    exception error: {undef,[{'Elixir.Websocket.SocketHandler',websocket_info,[<<"Hello server!">>,#{registry_key => <<"/ws/chat">>}],[]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,528}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.342.0>,<0.341.0>,'Elixir.Websocket.Supervisor',<0.339.0>]
    message_queue_len: 0
    messages: []
    links: [<0.462.0>,#Port<0.9>,<0.342.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: true
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 4533
  neighbours:
2021-04-08 14:42:56 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP' had connection process started with cowboy_clear:start_link/4 at <0.465.0> exit with reason: {undef,[{'Elixir.Websocket.SocketHandler',websocket_info,[<<"Hello server!">>,#{registry_key => <<"/ws/chat">>}],[]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,528}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-08 14:43:06 =CRASH REPORT====
  crasher:
    initial call: cowboy_clear:connection_process/4
    pid: <0.444.0>
    registered_name: []
    exception error: {undef,[{'Elixir.Websocket.SocketHandler',websocket_info,[<<"Hello server!">>,#{registry_key => <<"/ws/chat">>}],[]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,528}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.321.0>,<0.320.0>,'Elixir.Websocket.Supervisor',<0.318.0>]
    message_queue_len: 0
    messages: []
    links: [<0.441.0>,#Port<0.9>,<0.321.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: true
    status: running
    heap_size: 987
    stack_size: 28
    reductions: 4533
  neighbours:
2021-04-08 14:43:06 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP' had connection process started with cowboy_clear:start_link/4 at <0.444.0> exit with reason: {undef,[{'Elixir.Websocket.SocketHandler',websocket_info,[<<"Hello server!">>,#{registry_key => <<"/ws/chat">>}],[]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,528}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-08 14:43:13 =CRASH REPORT====
  crasher:
    initial call: cowboy_clear:connection_process/4
    pid: <0.459.0>
    registered_name: []
    exception error: {undef,[{'Elixir.Websocket.SocketHandler',websocket_info,[<<"Hello server!">>,#{registry_key => <<"/ws/chat">>}],[]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,528}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.321.0>,<0.320.0>,'Elixir.Websocket.Supervisor',<0.318.0>]
    message_queue_len: 0
    messages: []
    links: [<0.441.0>,#Port<0.11>,<0.321.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: true
    status: running
    heap_size: 2586
    stack_size: 28
    reductions: 4244
  neighbours:
2021-04-08 14:43:13 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP' had connection process started with cowboy_clear:start_link/4 at <0.459.0> exit with reason: {undef,[{'Elixir.Websocket.SocketHandler',websocket_info,[<<"Hello server!">>,#{registry_key => <<"/ws/chat">>}],[]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,528}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-08 15:00:53 =CRASH REPORT====
  crasher:
    initial call: cowboy_clear:connection_process/4
    pid: <0.459.0>
    registered_name: []
    exception error: {#{'__exception__' => true,'__struct__' => 'Elixir.ArgumentError',message => <<"Registry.update_value/3 is not supported for duplicate registries">>},[{'Elixir.Registry',update_value,3,[{file,"lib/registry.ex"},{line,430}]},{'Elixir.Websocket.SocketHandler',websocket_handle,2,[{file,"lib/websocket/socket_handler.ex"},{line,101}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,528}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.336.0>,<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 1
    messages: [<<"Hello server!">>]
    links: [<0.456.0>,#Port<0.9>,<0.336.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: true
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 4651
  neighbours:
2021-04-08 15:00:53 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP' had connection process started with cowboy_clear:start_link/4 at <0.459.0> exit with reason: {#{'__exception__' => true,'__struct__' => 'Elixir.ArgumentError',message => <<"Registry.update_value/3 is not supported for duplicate registries">>},[{'Elixir.Registry',update_value,3,[{file,"lib/registry.ex"},{line,430}]},{'Elixir.Websocket.SocketHandler',websocket_handle,2,[{file,"lib/websocket/socket_handler.ex"},{line,101}]},{cowboy_websocket,handler_call,6,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_websocket.erl"},{line,528}]},{cowboy_http,loop,1,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_http.erl"},{line,254}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-08 15:24:19 =ERROR REPORT====
Failed to start Ranch listener 'Elixir.Websocket.Router.HTTP' in ranch_tcp:listen([{cacerts,'...'},{key,'...'},{cert,'...'},{port,4000}]) for reason eaddrinuse (address already in use)
2021-04-08 15:24:19 =SUPERVISOR REPORT====
     Supervisor: {<0.335.0>,ranch_listener_sup}
     Context:    start_error
     Reason:     {listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}
     Offender:   [{pid,undefined},{id,ranch_acceptors_sup},{mfargs,{ranch_acceptors_sup,start_link,['Elixir.Websocket.Router.HTTP',ranch_tcp]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2021-04-08 15:24:19 =CRASH REPORT====
  crasher:
    initial call: supervisor:ranch_acceptors_sup/1
    pid: <0.337.0>
    registered_name: []
    exception exit: {{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse},[{ranch_acceptors_sup,listen_error,5,[{file,"/home/arthur/code/websocket/deps/ranch/src/ranch_acceptors_sup.erl"},{line,66}]},{supervisor,init,1,[{file,"supervisor.erl"},{line,301}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,417}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,385}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.335.0>,'Elixir.Websocket.Supervisor',<0.333.0>]
    message_queue_len: 0
    messages: []
    links: [<0.335.0>]
    dictionary: [{logger,error_logger}]
    trap_exit: true
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 4685
  neighbours:
2021-04-08 15:24:19 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    start_error
     Reason:     {shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}}}
     Offender:   [{pid,undefined},{id,{ranch_listener_sup,'Elixir.Websocket.Router.HTTP'}},{mfargs,{ranch_listener_sup,start_link,['Elixir.Websocket.Router.HTTP',ranch_tcp,#{max_connections => 16384,num_acceptors => 100,socket_opts => [{port,4000}]},cowboy_clear,#{env => #{dispatch => [{'_',[],[{[<<"ws">>,'...'],[],'Elixir.Websocket.SocketHandler',[]},{'_',[],'Elixir.Plug.Cowboy.Handler',{'Elixir.Websocket.Router',[]}}]}]},stream_handlers => [cowboy_telemetry_h,cowboy_stream_h]}]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2021-04-08 15:24:19 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.332.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,{ranch_listener_sup,'Elixir.Websocket.Router.HTTP'},{shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}}}}},{'Elixir.Websocket.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.331.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.333.0>,normal}]
    links: [<0.331.0>,<0.44.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 376
    stack_size: 28
    reductions: 192
  neighbours:
2021-04-08 15:24:33 =ERROR REPORT====
Failed to start Ranch listener 'Elixir.Websocket.Router.HTTP' in ranch_tcp:listen([{cacerts,'...'},{key,'...'},{cert,'...'},{port,4000}]) for reason eaddrinuse (address already in use)
2021-04-08 15:24:33 =SUPERVISOR REPORT====
     Supervisor: {<0.320.0>,ranch_listener_sup}
     Context:    start_error
     Reason:     {listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}
     Offender:   [{pid,undefined},{id,ranch_acceptors_sup},{mfargs,{ranch_acceptors_sup,start_link,['Elixir.Websocket.Router.HTTP',ranch_tcp]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2021-04-08 15:24:33 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    start_error
     Reason:     {shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}}}
     Offender:   [{pid,undefined},{id,{ranch_listener_sup,'Elixir.Websocket.Router.HTTP'}},{mfargs,{ranch_listener_sup,start_link,['Elixir.Websocket.Router.HTTP',ranch_tcp,#{max_connections => 16384,num_acceptors => 100,socket_opts => [{port,4000}]},cowboy_clear,#{env => #{dispatch => [{'_',[],[{[<<"ws">>,'...'],[],'Elixir.Websocket.SocketHandler',[]},{'_',[],'Elixir.Plug.Cowboy.Handler',{'Elixir.Websocket.Router',[]}}]}]},stream_handlers => [cowboy_telemetry_h,cowboy_stream_h]}]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2021-04-08 15:24:33 =CRASH REPORT====
  crasher:
    initial call: supervisor:ranch_acceptors_sup/1
    pid: <0.322.0>
    registered_name: []
    exception exit: {{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse},[{ranch_acceptors_sup,listen_error,5,[{file,"/home/arthur/code/websocket/deps/ranch/src/ranch_acceptors_sup.erl"},{line,66}]},{supervisor,init,1,[{file,"supervisor.erl"},{line,301}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,417}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,385}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.320.0>,'Elixir.Websocket.Supervisor',<0.318.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.320.0>,{shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}}}}]
    links: []
    dictionary: [{logger,error_logger}]
    trap_exit: true
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 4703
  neighbours:
2021-04-08 15:24:33 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.317.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,{ranch_listener_sup,'Elixir.Websocket.Router.HTTP'},{shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}}}}},{'Elixir.Websocket.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.316.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.318.0>,normal}]
    links: [<0.316.0>,<0.44.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 376
    stack_size: 28
    reductions: 214
  neighbours:
2021-04-08 17:04:18 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.343.0>
    registered_name: []
    exception exit: {{bad_return,{{'Elixir.Websocket.Application',start,[normal,[]]},{'EXIT',{#{'__exception__' => true,'__struct__' => 'Elixir.ArgumentError',message => <<"The module GenRegistry was given as a child to a supervisor but it does not exist.">>},[{'Elixir.Supervisor',init_child,1,[{file,"lib/supervisor.ex"},{line,631}]},{'Elixir.Enum','-map/2-lists^map/1-0-',2,[{file,"lib/enum.ex"},{line,1399}]},{'Elixir.Enum','-map/2-lists^map/1-0-',2,[{file,"lib/enum.ex"},{line,1399}]},{'Elixir.Supervisor',init,2,[{file,"lib/supervisor.ex"},{line,617}]},{'Elixir.Supervisor',start_link,2,[{file,"lib/supervisor.ex"},{line,556}]},{application_master,start_it_old,4,[{file,"application_master.erl"},{line,277}]}]}}}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.342.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.344.0>,normal}]
    links: [<0.342.0>,<0.44.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 28
    reductions: 227
  neighbours:
2021-04-08 17:06:55 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.446.0>
    registered_name: []
    exception error: {undef,[{'Elixir.GenRegistry',lookup,['Elixir.Websocket.AMQPConsumer'],[]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,15}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.445.0>,<0.338.0>,<0.337.0>,'Elixir.Websocket.Supervisor',<0.335.0>]
    message_queue_len: 0
    messages: []
    links: [<0.445.0>]
    dictionary: []
    trap_exit: false
    status: running
    heap_size: 987
    stack_size: 28
    reductions: 4795
  neighbours:
2021-04-08 17:06:55 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP', connection process <0.445.0>, stream 1 had its request process <0.446.0> exit with reason undef and stacktrace [{'Elixir.GenRegistry',lookup,['Elixir.Websocket.AMQPConsumer'],[]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,15}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
2021-04-08 17:24:44 =ERROR REPORT====
Failed to start Ranch listener 'Elixir.Websocket.Router.HTTP' in ranch_tcp:listen([{cacerts,'...'},{key,'...'},{cert,'...'},{port,4000}]) for reason eaddrinuse (address already in use)
2021-04-08 17:24:44 =SUPERVISOR REPORT====
     Supervisor: {<0.322.0>,ranch_listener_sup}
     Context:    start_error
     Reason:     {listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}
     Offender:   [{pid,undefined},{id,ranch_acceptors_sup},{mfargs,{ranch_acceptors_sup,start_link,['Elixir.Websocket.Router.HTTP',ranch_tcp]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2021-04-08 17:24:44 =CRASH REPORT====
  crasher:
    initial call: supervisor:ranch_acceptors_sup/1
    pid: <0.324.0>
    registered_name: []
    exception exit: {{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse},[{ranch_acceptors_sup,listen_error,5,[{file,"/home/arthur/code/websocket/deps/ranch/src/ranch_acceptors_sup.erl"},{line,66}]},{supervisor,init,1,[{file,"supervisor.erl"},{line,301}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,417}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,385}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.322.0>,'Elixir.Websocket.Supervisor',<0.320.0>]
    message_queue_len: 0
    messages: []
    links: [<0.322.0>]
    dictionary: [{logger,error_logger}]
    trap_exit: true
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 4702
  neighbours:
2021-04-08 17:24:44 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    start_error
     Reason:     {shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}}}
     Offender:   [{pid,undefined},{id,{ranch_listener_sup,'Elixir.Websocket.Router.HTTP'}},{mfargs,{ranch_listener_sup,start_link,['Elixir.Websocket.Router.HTTP',ranch_tcp,#{max_connections => 16384,num_acceptors => 100,socket_opts => [{port,4000}]},cowboy_clear,#{env => #{dispatch => [{'_',[],[{[<<"ws">>,'...'],[],'Elixir.Websocket.SocketHandler',[]},{'_',[],'Elixir.Plug.Cowboy.Handler',{'Elixir.Websocket.Router',[]}}]}]},stream_handlers => [cowboy_telemetry_h,cowboy_stream_h]}]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2021-04-08 17:24:44 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.319.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,{ranch_listener_sup,'Elixir.Websocket.Router.HTTP'},{shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}}}}},{'Elixir.Websocket.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.318.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.320.0>,normal}]
    links: [<0.318.0>,<0.44.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 376
    stack_size: 28
    reductions: 192
  neighbours:
2021-04-08 17:28:31 =ERROR REPORT====
** Generic server amqp terminating 
** Last message in was {get_state}
** When Server state == #{'__struct__' => 'Elixir.AMQP.Channel',conn => #{'__struct__' => 'Elixir.AMQP.Connection',pid => <0.454.0>},custom_consumer => nil,pid => <0.465.0>}
** Reason for termination ==
** {#{'__exception__' => true,'__struct__' => 'Elixir.RuntimeError',message => <<"attempted to call GenServer :amqp but no handle_call/3 clause was provided">>},[{'Elixir.Websocket.AMQPConsumer',handle_call,3,[{file,"lib/gen_server.ex"},{line,777}]},{gen_server,try_handle_call,4,[{file,"gen_server.erl"},{line,715}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,744}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
** Client <0.473.0> stacktrace
** [{gen,do_call,4,[{file,"gen.erl"},{line,208}]},{'Elixir.GenServer',call,3,[{file,"lib/gen_server.ex"},{line,1024}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,15}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
2021-04-08 17:28:31 =CRASH REPORT====
  crasher:
    initial call: Elixir.Websocket.AMQPConsumer:init/1
    pid: <0.451.0>
    registered_name: amqp
    exception error: {#{'__exception__' => true,'__struct__' => 'Elixir.RuntimeError',message => <<"attempted to call GenServer :amqp but no handle_call/3 clause was provided">>},[{'Elixir.Websocket.AMQPConsumer',handle_call,3,[{file,"lib/gen_server.ex"},{line,777}]},{gen_server,try_handle_call,4,[{file,"gen_server.erl"},{line,715}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,744}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: ['Elixir.Websocket.Supervisor',<0.346.0>]
    message_queue_len: 0
    messages: []
    links: [<0.347.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: false
    status: running
    heap_size: 10958
    stack_size: 28
    reductions: 54681
  neighbours:
2021-04-08 17:28:31 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    child_terminated
     Reason:     {#{'__exception__' => true,'__struct__' => 'Elixir.RuntimeError',message => <<"attempted to call GenServer :amqp but no handle_call/3 clause was provided">>},[{'Elixir.Websocket.AMQPConsumer',handle_call,3,[{file,"lib/gen_server.ex"},{line,777}]},{gen_server,try_handle_call,4,[{file,"gen_server.erl"},{line,715}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,744}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
     Offender:   [{pid,<0.451.0>},{id,'Elixir.Websocket.AMQPConsumer'},{mfargs,{'Elixir.Websocket.AMQPConsumer',start_link,[[]]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2021-04-08 17:28:31 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.473.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.RuntimeError',message => <<"attempted to call GenServer :amqp but no handle_call/3 clause was provided">>},[{'Elixir.Websocket.AMQPConsumer',handle_call,3,[{file,"lib/gen_server.ex"},{line,777}]},{gen_server,try_handle_call,4,[{file,"gen_server.erl"},{line,715}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,744}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]},{'Elixir.GenServer',call,[amqp,{get_state},5000]}},[{'Elixir.GenServer',call,3,[{file,"lib/gen_server.ex"},{line,1027}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,15}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]},[{'Elixir.GenServer',call,3,[{file,"lib/gen_server.ex"},{line,1027}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,15}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.472.0>,<0.349.0>,<0.348.0>,'Elixir.Websocket.Supervisor',<0.346.0>]
    message_queue_len: 0
    messages: []
    links: [<0.472.0>]
    dictionary: []
    trap_exit: false
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 4762
  neighbours:
2021-04-08 17:28:31 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP', connection process <0.472.0>, stream 1 had its request process <0.473.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.RuntimeError',message => <<"attempted to call GenServer :amqp but no handle_call/3 clause was provided">>},[{'Elixir.Websocket.AMQPConsumer',handle_call,3,[{file,"lib/gen_server.ex"},{line,777}]},{gen_server,try_handle_call,4,[{file,"gen_server.erl"},{line,715}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,744}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]},{'Elixir.GenServer',call,[amqp,{get_state},5000]}} and stacktrace [{'Elixir.GenServer',call,3,[{file,"lib/gen_server.ex"},{line,1027}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,15}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
2021-04-08 17:31:29 =ERROR REPORT====
** Generic server amqp terminating 
** Last message in was {get_state}
** When Server state == #{'__struct__' => 'Elixir.AMQP.Channel',conn => #{'__struct__' => 'Elixir.AMQP.Connection',pid => <0.444.0>},custom_consumer => nil,pid => <0.455.0>}
** Reason for termination ==
** {#{'__exception__' => true,'__struct__' => 'Elixir.RuntimeError',message => <<"attempted to call GenServer :amqp but no handle_call/3 clause was provided">>},[{'Elixir.Websocket.AMQPConsumer',handle_call,3,[{file,"lib/gen_server.ex"},{line,777}]},{gen_server,try_handle_call,4,[{file,"gen_server.erl"},{line,715}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,744}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
** Client <0.463.0> stacktrace
** [{gen,do_call,4,[{file,"gen.erl"},{line,208}]},{'Elixir.GenServer',call,3,[{file,"lib/gen_server.ex"},{line,1024}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,15}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
2021-04-08 17:31:29 =CRASH REPORT====
  crasher:
    initial call: Elixir.Websocket.AMQPConsumer:init/1
    pid: <0.441.0>
    registered_name: amqp
    exception error: {#{'__exception__' => true,'__struct__' => 'Elixir.RuntimeError',message => <<"attempted to call GenServer :amqp but no handle_call/3 clause was provided">>},[{'Elixir.Websocket.AMQPConsumer',handle_call,3,[{file,"lib/gen_server.ex"},{line,777}]},{gen_server,try_handle_call,4,[{file,"gen_server.erl"},{line,715}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,744}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: ['Elixir.Websocket.Supervisor',<0.336.0>]
    message_queue_len: 0
    messages: []
    links: [<0.337.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: false
    status: running
    heap_size: 10958
    stack_size: 28
    reductions: 46555
  neighbours:
2021-04-08 17:31:29 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    child_terminated
     Reason:     {#{'__exception__' => true,'__struct__' => 'Elixir.RuntimeError',message => <<"attempted to call GenServer :amqp but no handle_call/3 clause was provided">>},[{'Elixir.Websocket.AMQPConsumer',handle_call,3,[{file,"lib/gen_server.ex"},{line,777}]},{gen_server,try_handle_call,4,[{file,"gen_server.erl"},{line,715}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,744}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
     Offender:   [{pid,<0.441.0>},{id,'Elixir.Websocket.AMQPConsumer'},{mfargs,{'Elixir.Websocket.AMQPConsumer',start_link,[[]]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2021-04-08 17:31:29 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.463.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.RuntimeError',message => <<"attempted to call GenServer :amqp but no handle_call/3 clause was provided">>},[{'Elixir.Websocket.AMQPConsumer',handle_call,3,[{file,"lib/gen_server.ex"},{line,777}]},{gen_server,try_handle_call,4,[{file,"gen_server.erl"},{line,715}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,744}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]},{'Elixir.GenServer',call,[amqp,{get_state},5000]}},[{'Elixir.GenServer',call,3,[{file,"lib/gen_server.ex"},{line,1027}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,15}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]},[{'Elixir.GenServer',call,3,[{file,"lib/gen_server.ex"},{line,1027}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,15}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.462.0>,<0.339.0>,<0.338.0>,'Elixir.Websocket.Supervisor',<0.336.0>]
    message_queue_len: 0
    messages: []
    links: [<0.462.0>]
    dictionary: []
    trap_exit: false
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 4821
  neighbours:
2021-04-08 17:31:29 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP', connection process <0.462.0>, stream 1 had its request process <0.463.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.RuntimeError',message => <<"attempted to call GenServer :amqp but no handle_call/3 clause was provided">>},[{'Elixir.Websocket.AMQPConsumer',handle_call,3,[{file,"lib/gen_server.ex"},{line,777}]},{gen_server,try_handle_call,4,[{file,"gen_server.erl"},{line,715}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,744}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]},{'Elixir.GenServer',call,[amqp,{get_state},5000]}} and stacktrace [{'Elixir.GenServer',call,3,[{file,"lib/gen_server.ex"},{line,1027}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,15}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
2021-04-08 17:32:07 =ERROR REPORT====
** Generic server amqp terminating 
** Last message in was {get_state}
** When Server state == #{'__struct__' => 'Elixir.AMQP.Channel',conn => #{'__struct__' => 'Elixir.AMQP.Connection',pid => <0.444.0>},custom_consumer => nil,pid => <0.455.0>}
** Reason for termination ==
** {#{'__exception__' => true,'__struct__' => 'Elixir.RuntimeError',message => <<"attempted to call GenServer :amqp but no handle_call/3 clause was provided">>},[{'Elixir.Websocket.AMQPConsumer',handle_call,3,[{file,"lib/gen_server.ex"},{line,777}]},{gen_server,try_handle_call,4,[{file,"gen_server.erl"},{line,715}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,744}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
** Client <0.463.0> stacktrace
** [{gen,do_call,4,[{file,"gen.erl"},{line,208}]},{'Elixir.GenServer',call,3,[{file,"lib/gen_server.ex"},{line,1024}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,15}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
2021-04-08 17:32:07 =CRASH REPORT====
  crasher:
    initial call: Elixir.Websocket.AMQPConsumer:init/1
    pid: <0.441.0>
    registered_name: amqp
    exception error: {#{'__exception__' => true,'__struct__' => 'Elixir.RuntimeError',message => <<"attempted to call GenServer :amqp but no handle_call/3 clause was provided">>},[{'Elixir.Websocket.AMQPConsumer',handle_call,3,[{file,"lib/gen_server.ex"},{line,777}]},{gen_server,try_handle_call,4,[{file,"gen_server.erl"},{line,715}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,744}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: ['Elixir.Websocket.Supervisor',<0.336.0>]
    message_queue_len: 0
    messages: []
    links: [<0.337.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: false
    status: running
    heap_size: 10958
    stack_size: 28
    reductions: 47076
  neighbours:
2021-04-08 17:32:07 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    child_terminated
     Reason:     {#{'__exception__' => true,'__struct__' => 'Elixir.RuntimeError',message => <<"attempted to call GenServer :amqp but no handle_call/3 clause was provided">>},[{'Elixir.Websocket.AMQPConsumer',handle_call,3,[{file,"lib/gen_server.ex"},{line,777}]},{gen_server,try_handle_call,4,[{file,"gen_server.erl"},{line,715}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,744}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
     Offender:   [{pid,<0.441.0>},{id,'Elixir.Websocket.AMQPConsumer'},{mfargs,{'Elixir.Websocket.AMQPConsumer',start_link,[[]]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2021-04-08 17:32:07 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.463.0>
    registered_name: []
    exception exit: {{{{#{'__exception__' => true,'__struct__' => 'Elixir.RuntimeError',message => <<"attempted to call GenServer :amqp but no handle_call/3 clause was provided">>},[{'Elixir.Websocket.AMQPConsumer',handle_call,3,[{file,"lib/gen_server.ex"},{line,777}]},{gen_server,try_handle_call,4,[{file,"gen_server.erl"},{line,715}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,744}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]},{'Elixir.GenServer',call,[amqp,{get_state},5000]}},[{'Elixir.GenServer',call,3,[{file,"lib/gen_server.ex"},{line,1027}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,15}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]},[{'Elixir.GenServer',call,3,[{file,"lib/gen_server.ex"},{line,1027}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,15}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.462.0>,<0.339.0>,<0.338.0>,'Elixir.Websocket.Supervisor',<0.336.0>]
    message_queue_len: 0
    messages: []
    links: [<0.462.0>]
    dictionary: []
    trap_exit: false
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 4821
  neighbours:
2021-04-08 17:32:07 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP', connection process <0.462.0>, stream 1 had its request process <0.463.0> exit with reason {{#{'__exception__' => true,'__struct__' => 'Elixir.RuntimeError',message => <<"attempted to call GenServer :amqp but no handle_call/3 clause was provided">>},[{'Elixir.Websocket.AMQPConsumer',handle_call,3,[{file,"lib/gen_server.ex"},{line,777}]},{gen_server,try_handle_call,4,[{file,"gen_server.erl"},{line,715}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,744}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]},{'Elixir.GenServer',call,[amqp,{get_state},5000]}} and stacktrace [{'Elixir.GenServer',call,3,[{file,"lib/gen_server.ex"},{line,1027}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,15}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
2021-04-08 17:32:55 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.463.0>
    registered_name: []
    exception error: {#{'__exception__' => true,'__struct__' => 'Elixir.Protocol.UndefinedError',description => <<>>,protocol => 'Elixir.String.Chars',value => <0.441.0>},[{'Elixir.String.Chars','impl_for!',1,[{file,"lib/string/chars.ex"},{line,3}]},{'Elixir.String.Chars',to_string,1,[{file,"lib/string/chars.ex"},{line,22}]},{'Elixir.IO',puts,2,[{file,"lib/io.ex"},{line,686}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,15}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.462.0>,<0.339.0>,<0.338.0>,'Elixir.Websocket.Supervisor',<0.336.0>]
    message_queue_len: 0
    messages: []
    links: [<0.462.0>]
    dictionary: []
    trap_exit: false
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 4875
  neighbours:
2021-04-08 17:32:55 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP', connection process <0.462.0>, stream 1 had its request process <0.463.0> exit with reason #{'__exception__' => true,'__struct__' => 'Elixir.Protocol.UndefinedError',description => <<>>,protocol => 'Elixir.String.Chars',value => <0.441.0>} and stacktrace [{'Elixir.String.Chars','impl_for!',1,[{file,"lib/string/chars.ex"},{line,3}]},{'Elixir.String.Chars',to_string,1,[{file,"lib/string/chars.ex"},{line,22}]},{'Elixir.IO',puts,2,[{file,"lib/io.ex"},{line,686}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,15}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
2021-04-08 17:33:29 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.463.0>
    registered_name: []
    exception error: bad argument: [{ets,lookup,['Elixir.Websocket.AMQPConsumer','Elixir.MyAMQP'],[]},{'Elixir.GenRegistry',lookup,2,[{file,"lib/gen_registry.ex"},{line,74}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
    ancestors: [<0.462.0>,<0.339.0>,<0.338.0>,'Elixir.Websocket.Supervisor',<0.336.0>]
    message_queue_len: 0
    messages: []
    links: [<0.462.0>]
    dictionary: []
    trap_exit: false
    status: running
    heap_size: 987
    stack_size: 28
    reductions: 4849
  neighbours:
2021-04-08 17:33:29 =ERROR REPORT====
Ranch listener 'Elixir.Websocket.Router.HTTP', connection process <0.462.0>, stream 1 had its request process <0.463.0> exit with reason badarg and stacktrace [{ets,lookup,['Elixir.Websocket.AMQPConsumer','Elixir.MyAMQP'],[]},{'Elixir.GenRegistry',lookup,2,[{file,"lib/gen_registry.ex"},{line,74}]},{'Elixir.Websocket.SocketHandler',init,2,[{file,"lib/websocket/socket_handler.ex"},{line,17}]},{cowboy_handler,execute,2,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,300}]},{cowboy_stream_h,request_process,3,[{file,"/home/arthur/code/websocket/deps/cowboy/src/cowboy_stream_h.erl"},{line,291}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
2021-04-09 10:41:45 =ERROR REPORT====
** Generic server amqp terminating 
** Last message in was {basic_deliver,<<"{\"sender_pid\":[60,48,46,52,54,54,46,48,62],\"registry_key\":\"/ws/chat\",\"message\":\"Hello server!\"}">>,#{app_id => undefined,cluster_id => undefined,consumer_tag => <<"amq.ctag-zCS4eOPl1LnbQ4vshGc4rg">>,content_encoding => undefined,content_type => undefined,correlation_id => undefined,delivery_tag => 1,exchange => <<"chatter_test_exchange">>,expiration => undefined,headers => undefined,message_id => undefined,persistent => false,priority => undefined,redelivered => false,reply_to => undefined,routing_key => <<>>,timestamp => undefined,type => undefined,user_id => undefined}}
** When Server state == #{'__struct__' => 'Elixir.AMQP.Channel',conn => #{'__struct__' => 'Elixir.AMQP.Connection',pid => <0.448.0>},custom_consumer => nil,pid => <0.459.0>}
** Reason for termination ==
** {#{'__exception__' => true,'__struct__' => 'Elixir.Protocol.UndefinedError',description => <<>>,protocol => 'Elixir.String.Chars',value => <0.466.0>},[{'Elixir.String.Chars','impl_for!',1,[{file,"lib/string/chars.ex"},{line,3}]},{'Elixir.String.Chars',to_string,1,[{file,"lib/string/chars.ex"},{line,22}]},{'Elixir.IO',puts,2,[{file,"lib/io.ex"},{line,686}]},{'Elixir.Websocket.AMQPConsumer',handle_info,2,[{file,"lib/amqp_consumer.ex"},{line,67}]},{gen_server,try_dispatch,4,[{file,"gen_server.erl"},{line,689}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,765}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-09 10:41:45 =CRASH REPORT====
  crasher:
    initial call: Elixir.Websocket.AMQPConsumer:init/1
    pid: <0.445.0>
    registered_name: amqp
    exception error: {#{'__exception__' => true,'__struct__' => 'Elixir.Protocol.UndefinedError',description => <<>>,protocol => 'Elixir.String.Chars',value => <0.466.0>},[{'Elixir.String.Chars','impl_for!',1,[{file,"lib/string/chars.ex"},{line,3}]},{'Elixir.String.Chars',to_string,1,[{file,"lib/string/chars.ex"},{line,22}]},{'Elixir.IO',puts,2,[{file,"lib/io.ex"},{line,686}]},{'Elixir.Websocket.AMQPConsumer',handle_info,2,[{file,"lib/amqp_consumer.ex"},{line,67}]},{gen_server,try_dispatch,4,[{file,"gen_server.erl"},{line,689}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,765}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: ['Elixir.Websocket.Supervisor',<0.340.0>]
    message_queue_len: 0
    messages: []
    links: [<0.341.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: false
    status: running
    heap_size: 4185
    stack_size: 28
    reductions: 50421
  neighbours:
2021-04-09 10:41:45 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    child_terminated
     Reason:     {#{'__exception__' => true,'__struct__' => 'Elixir.Protocol.UndefinedError',description => <<>>,protocol => 'Elixir.String.Chars',value => <0.466.0>},[{'Elixir.String.Chars','impl_for!',1,[{file,"lib/string/chars.ex"},{line,3}]},{'Elixir.String.Chars',to_string,1,[{file,"lib/string/chars.ex"},{line,22}]},{'Elixir.IO',puts,2,[{file,"lib/io.ex"},{line,686}]},{'Elixir.Websocket.AMQPConsumer',handle_info,2,[{file,"lib/amqp_consumer.ex"},{line,67}]},{gen_server,try_dispatch,4,[{file,"gen_server.erl"},{line,689}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,765}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
     Offender:   [{pid,<0.445.0>},{id,'Elixir.Websocket.AMQPConsumer'},{mfargs,{'Elixir.Websocket.AMQPConsumer',start_link,[[]]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2021-04-09 10:42:37 =ERROR REPORT====
** Generic server amqp terminating 
** Last message in was {basic_deliver,<<"{\"sender_pid\":[60,48,46,52,54,54,46,48,62],\"registry_key\":\"/ws/chat\",\"message\":\"Hello server!\"}">>,#{app_id => undefined,cluster_id => undefined,consumer_tag => <<"amq.ctag-knp_BKAIMVLhFIRcGK0rKA">>,content_encoding => undefined,content_type => undefined,correlation_id => undefined,delivery_tag => 1,exchange => <<"chatter_test_exchange">>,expiration => undefined,headers => undefined,message_id => undefined,persistent => false,priority => undefined,redelivered => false,reply_to => undefined,routing_key => <<>>,timestamp => undefined,type => undefined,user_id => undefined}}
** When Server state == #{'__struct__' => 'Elixir.AMQP.Channel',conn => #{'__struct__' => 'Elixir.AMQP.Connection',pid => <0.448.0>},custom_consumer => nil,pid => <0.459.0>}
** Reason for termination ==
** {badarg,[{erlang,byte_size,[<0.445.0>],[]},{'Elixir.Websocket.AMQPConsumer',handle_info,2,[{file,"lib/amqp_consumer.ex"},{line,68}]},{gen_server,try_dispatch,4,[{file,"gen_server.erl"},{line,689}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,765}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
2021-04-09 10:42:37 =CRASH REPORT====
  crasher:
    initial call: Elixir.Websocket.AMQPConsumer:init/1
    pid: <0.445.0>
    registered_name: amqp
    exception error: bad argument: [{erlang,byte_size,[<0.445.0>],[]},{'Elixir.Websocket.AMQPConsumer',handle_info,2,[{file,"lib/amqp_consumer.ex"},{line,68}]},{gen_server,try_dispatch,4,[{file,"gen_server.erl"},{line,689}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,765}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
    ancestors: ['Elixir.Websocket.Supervisor',<0.340.0>]
    message_queue_len: 0
    messages: []
    links: [<0.341.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: false
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 49179
  neighbours:
2021-04-09 10:42:37 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    child_terminated
     Reason:     {badarg,[{erlang,byte_size,[<0.445.0>],[]},{'Elixir.Websocket.AMQPConsumer',handle_info,2,[{file,"lib/amqp_consumer.ex"},{line,68}]},{gen_server,try_dispatch,4,[{file,"gen_server.erl"},{line,689}]},{gen_server,handle_msg,6,[{file,"gen_server.erl"},{line,765}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
     Offender:   [{pid,<0.445.0>},{id,'Elixir.Websocket.AMQPConsumer'},{mfargs,{'Elixir.Websocket.AMQPConsumer',start_link,[[]]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2021-04-09 10:59:52 =ERROR REPORT====
Failed to start Ranch listener 'Elixir.Websocket.Router.HTTP' in ranch_tcp:listen([{cacerts,'...'},{key,'...'},{cert,'...'},{port,4001}]) for reason eaddrinuse (address already in use)
2021-04-09 10:59:52 =SUPERVISOR REPORT====
     Supervisor: {<0.453.0>,ranch_listener_sup}
     Context:    start_error
     Reason:     {listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}
     Offender:   [{pid,undefined},{id,ranch_acceptors_sup},{mfargs,{ranch_acceptors_sup,start_link,['Elixir.Websocket.Router.HTTP',ranch_tcp]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2021-04-09 10:59:52 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    start_error
     Reason:     {shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}}}
     Offender:   [{pid,undefined},{id,{ranch_listener_sup,'Elixir.Websocket.Router.HTTP'}},{mfargs,{ranch_listener_sup,start_link,['Elixir.Websocket.Router.HTTP',ranch_tcp,#{max_connections => 16384,num_acceptors => 100,socket_opts => [{port,4001}]},cowboy_clear,#{env => #{dispatch => [{'_',[],[{[<<"ws">>,'...'],[],'Elixir.Websocket.SocketHandler',[]},{'_',[],'Elixir.Plug.Cowboy.Handler',{'Elixir.Websocket.Router',[]}}]}]},stream_handlers => [cowboy_telemetry_h,cowboy_stream_h]}]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2021-04-09 10:59:52 =CRASH REPORT====
  crasher:
    initial call: supervisor:ranch_acceptors_sup/1
    pid: <0.455.0>
    registered_name: []
    exception exit: {{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse},[{ranch_acceptors_sup,listen_error,5,[{file,"/home/arthur/code/websocket/deps/ranch/src/ranch_acceptors_sup.erl"},{line,66}]},{supervisor,init,1,[{file,"supervisor.erl"},{line,301}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,417}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,385}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.453.0>,'Elixir.Websocket.Supervisor',<0.451.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.453.0>,{shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}}}}]
    links: []
    dictionary: [{logger,error_logger}]
    trap_exit: true
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 4668
  neighbours:
2021-04-09 10:59:52 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.450.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,{ranch_listener_sup,'Elixir.Websocket.Router.HTTP'},{shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}}}}},{'Elixir.Websocket.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.449.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.451.0>,normal}]
    links: [<0.449.0>,<0.44.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 376
    stack_size: 28
    reductions: 214
  neighbours:
2021-04-09 11:00:22 =ERROR REPORT====
Failed to start Ranch listener 'Elixir.Websocket.Router.HTTP' in ranch_tcp:listen([{cacerts,'...'},{key,'...'},{cert,'...'},{port,4001}]) for reason eaddrinuse (address already in use)
2021-04-09 11:00:22 =SUPERVISOR REPORT====
     Supervisor: {<0.324.0>,ranch_listener_sup}
     Context:    start_error
     Reason:     {listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}
     Offender:   [{pid,undefined},{id,ranch_acceptors_sup},{mfargs,{ranch_acceptors_sup,start_link,['Elixir.Websocket.Router.HTTP',ranch_tcp]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2021-04-09 11:00:22 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    start_error
     Reason:     {shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}}}
     Offender:   [{pid,undefined},{id,{ranch_listener_sup,'Elixir.Websocket.Router.HTTP'}},{mfargs,{ranch_listener_sup,start_link,['Elixir.Websocket.Router.HTTP',ranch_tcp,#{max_connections => 16384,num_acceptors => 100,socket_opts => [{port,4001}]},cowboy_clear,#{env => #{dispatch => [{'_',[],[{[<<"ws">>,'...'],[],'Elixir.Websocket.SocketHandler',[]},{'_',[],'Elixir.Plug.Cowboy.Handler',{'Elixir.Websocket.Router',[]}}]}]},stream_handlers => [cowboy_telemetry_h,cowboy_stream_h]}]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2021-04-09 11:00:22 =CRASH REPORT====
  crasher:
    initial call: supervisor:ranch_acceptors_sup/1
    pid: <0.326.0>
    registered_name: []
    exception exit: {{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse},[{ranch_acceptors_sup,listen_error,5,[{file,"/home/arthur/code/websocket/deps/ranch/src/ranch_acceptors_sup.erl"},{line,66}]},{supervisor,init,1,[{file,"supervisor.erl"},{line,301}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,417}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,385}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.324.0>,'Elixir.Websocket.Supervisor',<0.322.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.324.0>,{shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}}}}]
    links: []
    dictionary: [{logger,error_logger}]
    trap_exit: true
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 4704
  neighbours:
2021-04-09 11:00:22 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.321.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,{ranch_listener_sup,'Elixir.Websocket.Router.HTTP'},{shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}}}}},{'Elixir.Websocket.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.320.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.322.0>,normal}]
    links: [<0.320.0>,<0.44.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 376
    stack_size: 28
    reductions: 214
  neighbours:
2021-04-09 11:08:08 =ERROR REPORT====
Failed to start Ranch listener 'Elixir.Websocket.Router.HTTP' in ranch_tcp:listen([{cacerts,'...'},{key,'...'},{cert,'...'},{port,4001}]) for reason eaddrinuse (address already in use)
2021-04-09 11:08:08 =SUPERVISOR REPORT====
     Supervisor: {<0.339.0>,ranch_listener_sup}
     Context:    start_error
     Reason:     {listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}
     Offender:   [{pid,undefined},{id,ranch_acceptors_sup},{mfargs,{ranch_acceptors_sup,start_link,['Elixir.Websocket.Router.HTTP',ranch_tcp]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2021-04-09 11:08:08 =CRASH REPORT====
  crasher:
    initial call: supervisor:ranch_acceptors_sup/1
    pid: <0.341.0>
    registered_name: []
    exception exit: {{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse},[{ranch_acceptors_sup,listen_error,5,[{file,"/home/arthur/code/websocket/deps/ranch/src/ranch_acceptors_sup.erl"},{line,66}]},{supervisor,init,1,[{file,"supervisor.erl"},{line,301}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,417}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,385}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.339.0>,'Elixir.Websocket.Supervisor',<0.337.0>]
    message_queue_len: 0
    messages: []
    links: [<0.339.0>]
    dictionary: [{logger,error_logger}]
    trap_exit: true
    status: running
    heap_size: 1598
    stack_size: 28
    reductions: 4685
  neighbours:
2021-04-09 11:08:08 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    start_error
     Reason:     {shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}}}
     Offender:   [{pid,undefined},{id,{ranch_listener_sup,'Elixir.Websocket.Router.HTTP'}},{mfargs,{ranch_listener_sup,start_link,['Elixir.Websocket.Router.HTTP',ranch_tcp,#{max_connections => 16384,num_acceptors => 100,socket_opts => [{port,4001}]},cowboy_clear,#{env => #{dispatch => [{'_',[],[{[<<"ws">>,'...'],[],'Elixir.Websocket.SocketHandler',[]},{'_',[],'Elixir.Plug.Cowboy.Handler',{'Elixir.Websocket.Router',[]}}]}]},stream_handlers => [cowboy_telemetry_h,cowboy_stream_h]}]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2021-04-09 11:08:08 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.336.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,{ranch_listener_sup,'Elixir.Websocket.Router.HTTP'},{shutdown,{failed_to_start_child,ranch_acceptors_sup,{listen_error,'Elixir.Websocket.Router.HTTP',eaddrinuse}}}}},{'Elixir.Websocket.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.335.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.337.0>,normal}]
    links: [<0.335.0>,<0.44.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 376
    stack_size: 28
    reductions: 192
  neighbours:
2021-04-09 11:08:17 =CRASH REPORT====
  crasher:
    initial call: Elixir.Websocket.AMQPConsumer:init/1
    pid: <0.441.0>
    registered_name: []
    exception error: bad argument: [{erlang,byte_size,["<0.441.0>"],[]},{'Elixir.Websocket.AMQPConsumer',init,1,[{file,"lib/amqp_consumer.ex"},{line,30}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,417}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,385}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]
    ancestors: ['Elixir.Websocket.Supervisor',<0.336.0>]
    message_queue_len: 0
    messages: []
    links: [<0.337.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: false
    status: running
    heap_size: 2586
    stack_size: 28
    reductions: 39883
  neighbours:
2021-04-09 11:08:17 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    start_error
     Reason:     {badarg,[{erlang,byte_size,["<0.441.0>"],[]},{'Elixir.Websocket.AMQPConsumer',init,1,[{file,"lib/amqp_consumer.ex"},{line,30}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,417}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,385}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
     Offender:   [{pid,undefined},{id,'Elixir.Websocket.AMQPConsumer'},{mfargs,{'Elixir.Websocket.AMQPConsumer',start_link,[[]]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2021-04-09 11:08:17 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.335.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,'Elixir.Websocket.AMQPConsumer',{badarg,[{erlang,byte_size,["<0.441.0>"],[]},{'Elixir.Websocket.AMQPConsumer',init,1,[{file,"lib/amqp_consumer.ex"},{line,30}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,417}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,385}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}}},{'Elixir.Websocket.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.334.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.336.0>,normal}]
    links: [<0.334.0>,<0.44.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 28
    reductions: 226
  neighbours:
2021-04-09 11:10:12 =SUPERVISOR REPORT====
     Supervisor: {local,'Elixir.Websocket.Supervisor'}
     Context:    start_error
     Reason:     {{shutdown,{server_initiated_close,404,<<"NOT_FOUND - no queue 'chatter_test_queue<0.442.0>' in vhost '/'">>}},{gen_server,call,[<0.456.0>,{subscribe,{'basic.consume',0,<<"chatter_test_queue<0.442.0>">>,<<>>,false,false,false,false,[]},<0.458.0>},70000]}}
     Offender:   [{pid,undefined},{id,'Elixir.Websocket.AMQPConsumer'},{mfargs,{'Elixir.Websocket.AMQPConsumer',start_link,[[]]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2021-04-09 11:10:12 =CRASH REPORT====
  crasher:
    initial call: Elixir.Websocket.AMQPConsumer:init/1
    pid: <0.442.0>
    registered_name: []
    exception exit: {{{shutdown,{server_initiated_close,404,<<"NOT_FOUND - no queue 'chatter_test_queue<0.442.0>' in vhost '/'">>}},{gen_server,call,[<0.456.0>,{subscribe,{'basic.consume',0,<<"chatter_test_queue<0.442.0>">>,<<>>,false,false,false,false,[]},<0.458.0>},70000]}},[{gen_server,call,3,[{file,"gen_server.erl"},{line,246}]},{'Elixir.AMQP.Basic',consume,4,[{file,"lib/amqp/basic.ex"},{line,375}]},{'Elixir.Websocket.AMQPConsumer',init,1,[{file,"lib/amqp_consumer.ex"},{line,34}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,417}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,385}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: ['Elixir.Websocket.Supervisor',<0.337.0>]
    message_queue_len: 0
    messages: []
    links: [<0.338.0>]
    dictionary: [{gen_server_call_timeout,70000}]
    trap_exit: false
    status: running
    heap_size: 2586
    stack_size: 28
    reductions: 39968
  neighbours:
2021-04-09 11:10:12 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.336.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,'Elixir.Websocket.AMQPConsumer',{{shutdown,{server_initiated_close,404,<<"NOT_FOUND - no queue 'chatter_test_queue<0.442.0>' in vhost '/'">>}},{gen_server,call,[<0.456.0>,{subscribe,{'basic.consume',0,<<"chatter_test_queue<0.442.0>">>,<<>>,false,false,false,false,[]},<0.458.0>},70000]}}}},{'Elixir.Websocket.Application',start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,226}]}]}
    ancestors: [<0.335.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.337.0>,normal}]
    links: [<0.335.0>,<0.44.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 28
    reductions: 234
  neighbours:
